<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ClutterZoomAction</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Clutter Reference Manual">
<link rel="up" href="ch04.html" title="Actions">
<link rel="prev" href="ClutterRotateAction.html" title="ClutterRotateAction">
<link rel="next" href="ch05.html" title="Constraints">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ClutterRotateAction.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch04.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Clutter Reference Manual</th>
<td><a accesskey="n" href="ch05.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#ClutterZoomAction.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#ClutterZoomAction.description" class="shortcut">Description</a>
                   | 
                  <a href="#ClutterZoomAction.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#ClutterZoomAction.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#ClutterZoomAction.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry">
<a name="ClutterZoomAction"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ClutterZoomAction.top_of_page"></a>ClutterZoomAction</span></h2>
<p>ClutterZoomAction — Action enabling zooming on actors</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="ClutterZoomAction.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a class="link" href="ClutterZoomAction.html#ClutterZoomAction-struct" title="struct ClutterZoomAction">ClutterZoomAction</a>;
struct              <a class="link" href="ClutterZoomAction.html#ClutterZoomActionClass" title="struct ClutterZoomActionClass">ClutterZoomActionClass</a>;
<a class="link" href="ClutterAction.html" title="ClutterAction"><span class="returnvalue">ClutterAction</span></a> *     <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-new" title="clutter_zoom_action_new ()">clutter_zoom_action_new</a>             (<em class="parameter"><code><span class="type">void</span></code></em>);
enum                <a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis">ClutterZoomAxis</a>;
<span class="returnvalue">void</span>                <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-set-zoom-axis" title="clutter_zoom_action_set_zoom_axis ()">clutter_zoom_action_set_zoom_axis</a>   (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="type">ClutterZoomAxis</span></a> axis</code></em>);
<a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="returnvalue">ClutterZoomAxis</span></a>     <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-get-zoom-axis" title="clutter_zoom_action_get_zoom_axis ()">clutter_zoom_action_get_zoom_axis</a>   (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>);

<span class="returnvalue">void</span>                <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-get-focal-point" title="clutter_zoom_action_get_focal_point ()">clutter_zoom_action_get_focal_point</a> (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-get-transformed-focal-point" title="clutter_zoom_action_get_transformed_focal_point ()">clutter_zoom_action_get_transformed_focal_point</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----GInitiallyUnowned
         +----<a class="link" href="ClutterActorMeta.html" title="ClutterActorMeta">ClutterActorMeta</a>
               +----<a class="link" href="ClutterAction.html" title="ClutterAction">ClutterAction</a>
                     +----<a class="link" href="ClutterGestureAction.html" title="ClutterGestureAction">ClutterGestureAction</a>
                           +----ClutterZoomAction
</pre>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="ClutterZoomAction.html#ClutterZoomAction--zoom-axis" title='The "zoom-axis" property'>zoom-axis</a>"                <a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="type">ClutterZoomAxis</span></a>       : Read / Write
</pre>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="ClutterZoomAction.html#ClutterZoomAction-zoom" title='The "zoom" signal'>zoom</a>"                                           : <code class="literal">Run Last</code>
</pre>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.description"></a><h2>Description</h2>
<p>
<a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> is a sub-class of <a class="link" href="ClutterGestureAction.html" title="ClutterGestureAction"><span class="type">ClutterGestureAction</span></a> that
implements all the necessary logic for zooming actors.
</p>
<p>
The simplest usage of <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> consists in adding it to
a <a class="link" href="ClutterActor.html" title="ClutterActor"><span class="type">ClutterActor</span></a> and setting it as reactive; for instance, the following
code:
</p>
<p>
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="function"><a href="ClutterActor.html#clutter-actor-add-action">clutter_actor_add_action</a></span> <span class="gtkdoc opt">(</span>actor<span class="gtkdoc opt">,</span> <span class="function"><a href="ClutterZoomAction.html#clutter-zoom-action-new">clutter_zoom_action_new</a></span> <span class="gtkdoc opt">());</span>
<span class="function"><a href="ClutterActor.html#clutter-actor-set-reactive">clutter_actor_set_reactive</a></span> <span class="gtkdoc opt">(</span>actor<span class="gtkdoc opt">,</span> TRUE<span class="gtkdoc opt">);</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<p>
will automatically result in the actor to be scale according to the
distance between 2 touch points.
</p>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="ClutterZoomAction-struct"></a><h3>struct ClutterZoomAction</h3>
<pre class="programlisting">struct ClutterZoomAction;</pre>
<p>
The <span class="structname">ClutterZoomAction</span> structure contains only
private data and should be accessed using the provided API
</p>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterZoomActionClass"></a><h3>struct ClutterZoomActionClass</h3>
<pre class="programlisting">struct ClutterZoomActionClass {
  gboolean (* zoom)  (ClutterZoomAction *action,
                      ClutterActor      *actor,
                      ClutterPoint      *focal_point,
                      gdouble            factor);
};
</pre>
<p>
The <span class="structname">ClutterZoomActionClass</span> structure contains
only private data
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="structfield"><code><a name="ClutterZoomActionClass.zoom"></a>zoom</code></em> ()</span></p></td>
<td>class handler of the <a class="link" href="ClutterZoomAction.html#ClutterZoomAction-zoom" title='The "zoom" signal'><span class="type">"zoom"</span></a> signal</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-zoom-action-new"></a><h3>clutter_zoom_action_new ()</h3>
<pre class="programlisting"><a class="link" href="ClutterAction.html" title="ClutterAction"><span class="returnvalue">ClutterAction</span></a> *     clutter_zoom_action_new             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Creates a new <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> instance
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the newly created <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterZoomAxis"></a><h3>enum ClutterZoomAxis</h3>
<pre class="programlisting">typedef enum {
 /*&lt; prefix=CLUTTER_ZOOM &gt;*/
  CLUTTER_ZOOM_X_AXIS,
  CLUTTER_ZOOM_Y_AXIS,
  CLUTTER_ZOOM_BOTH
} ClutterZoomAxis;
</pre>
<p>
The axis of the constraint that should be applied by the
zooming action.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="CLUTTER-ZOOM-X-AXIS:CAPS"></a><span class="term"><code class="literal">CLUTTER_ZOOM_X_AXIS</code></span></p></td>
<td>Scale only on the X axis
</td>
</tr>
<tr>
<td><p><a name="CLUTTER-ZOOM-Y-AXIS:CAPS"></a><span class="term"><code class="literal">CLUTTER_ZOOM_Y_AXIS</code></span></p></td>
<td>Scale only on the Y axis
</td>
</tr>
<tr>
<td><p><a name="CLUTTER-ZOOM-BOTH:CAPS"></a><span class="term"><code class="literal">CLUTTER_ZOOM_BOTH</code></span></p></td>
<td>Scale on both axis
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-zoom-action-set-zoom-axis"></a><h3>clutter_zoom_action_set_zoom_axis ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_zoom_action_set_zoom_axis   (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="type">ClutterZoomAxis</span></a> axis</code></em>);</pre>
<p>
Restricts the zooming action to a specific axis
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>action</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>axis</code></em> :</span></p></td>
<td>the axis to constraint the zooming to</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-zoom-action-get-zoom-axis"></a><h3>clutter_zoom_action_get_zoom_axis ()</h3>
<pre class="programlisting"><a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="returnvalue">ClutterZoomAxis</span></a>     clutter_zoom_action_get_zoom_axis   (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>);</pre>
<p>
Retrieves the axis constraint set by <a class="link" href="ClutterZoomAction.html#clutter-zoom-action-set-zoom-axis" title="clutter_zoom_action_set_zoom_axis ()"><code class="function">clutter_zoom_action_set_zoom_axis()</code></a>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>action</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the axis constraint</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-zoom-action-get-focal-point"></a><h3>clutter_zoom_action_get_focal_point ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_zoom_action_get_focal_point (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);</pre>
<p>
Retrieves the focal point of the current zoom
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>action</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>point</code></em> :</span></p></td>
<td>a <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a>. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-zoom-action-get-transformed-focal-point"></a><h3>clutter_zoom_action_get_transformed_focal_point ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_zoom_action_get_transformed_focal_point
                                                        (<em class="parameter"><code><a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action</code></em>,
                                                         <em class="parameter"><code><a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);</pre>
<p>
Retrieves the focal point relative to the actor's coordinates of
the current zoom
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>action</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>point</code></em> :</span></p></td>
<td>a <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a>. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="ClutterZoomAction--zoom-axis"></a><h3>The <code class="literal">"zoom-axis"</code> property</h3>
<pre class="programlisting">  "zoom-axis"                <a class="link" href="ClutterZoomAction.html#ClutterZoomAxis" title="enum ClutterZoomAxis"><span class="type">ClutterZoomAxis</span></a>       : Read / Write</pre>
<p>
Constraints the zooming action to the specified axis
</p>
<p>Default value: CLUTTER_ZOOM_BOTH</p>
<p class="since">Since 1.12</p>
</div>
</div>
<div class="refsect1">
<a name="ClutterZoomAction.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="ClutterZoomAction-zoom"></a><h3>The <code class="literal">"zoom"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            user_function                      (<a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> *action,
                                                        <a class="link" href="ClutterActor.html" title="ClutterActor"><span class="type">ClutterActor</span></a>      *actor,
                                                        <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a>      *distance,
                                                        <span class="type">gdouble</span>            Returns,
                                                        <span class="type">gpointer</span>           user_data)      : <code class="literal">Run Last</code></pre>
<p>
The ::zoom signal is emitted for each touch event after the
<span class="type">"zoom-begin"</span> signal has been emitted.
</p>
<p>
The components of the distance between the touch begin event and
the latest touch update event are computed in the actor's
coordinate space, to take into account eventual transformations.
If you want the stage coordinates of the latest motion event you
can use <code class="function">clutter_zoom_action_get_motion_coords()</code>.
</p>
<p>
The default handler of the signal will call
<a class="link" href="ClutterActor.html#clutter-actor-set-scale" title="clutter_actor_set_scale ()"><code class="function">clutter_actor_set_scale()</code></a> on <em class="parameter"><code>actor</code></em> using the ratio of the first
distance between the 2 touch points and the current distance. If
you want to override the default behaviour, you can connect to
this signal and call <code class="function">g_signal_stop_emission_by_name()</code> from within
your callback.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>action</code></em> :</span></p></td>
<td>the <a class="link" href="ClutterZoomAction.html" title="ClutterZoomAction"><span class="type">ClutterZoomAction</span></a> that emitted the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>actor</code></em> :</span></p></td>
<td>the <a class="link" href="ClutterActor.html" title="ClutterActor"><span class="type">ClutterActor</span></a> attached to the action</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>distance</code></em> :</span></p></td>
<td>the initial distance between the 2 touch points</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the zoom action has been handled by one of
the listener or <code class="literal">FALSE</code> to continue the emission.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>