.\" dpkg manual page - dpkg(1)
.\"
.\" Copyright Â© 1996 Juho Vuori <javuori@cc.helsinki.fi>
.\" Copyright Â© 1999 Jim Van Zandt <jrv@vanzandt.mv.com>
.\" Copyright Â© 1999-2003 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2000-2003 Adam Heath <doogie@debian.org>
.\" Copyright Â© 2002 Josip Rodin
.\" Copyright Â© 2004-2005 Scott James Remnant <keybuk@debian.org>
.\" Copyright Â© 2006-2012 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2007-2008 Ian Jackson <ian@davenant.greenend.org.uk>
.\" Copyright Â© 2008-2011 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg 1 "5 de junio del 2012" "Proyecto Debian" "Herramientas de dpkg"
.SH NOMBRE
dpkg \- Gestor de paquetes de Debian
.
.SH SINOPSIS
\fBdpkg\fP [\fIopcion\fP...] \fIacción\fP
.
.SH AVISO
El propósito de este manual es que los usuarios entiendan las opciones de
ejecución de \fBdpkg\fP y el estado de los paquetes con más detalle que la que
ofrece \fBdpkg \-\-help\fP.

Los responsables de paquetes \fIno\fP deberían utilizar \fBdpkg \-\-help\fP para
comprender el proceso de instalación de \fBdpkg\fP. Las descripciones de lo que
hace \fBdpkg\fP al instalar y desinstalar son particularmente imprecisas.
.
.SH DESCRIPCIÓN
\fBdpkg\fP es una herramienta para instalar, compilar, eliminar y manipular los
paquetes de Debian. La interfaz principal y más intuitiva para \fBdpkg\fP es
\fBaptitude\fP(1). \fBdpkg\fP se ejecuta con parámetros de línea de órdenes, que
consisten de una sola acción y cero o más opciones. La acción o parámetro
dice a \fBdpkg\fP qué hacer, mientras que las opciones controlan de una manera
u otra su comportamiento.

\fBdpkg\fP también se puede utilizar como una interfaz para \fBdpkg\-deb\fP(1) y
\fBdpkg\-query\fP(1). Puede consultar la lista de acciones permitidas en la
sección \fBACCIONES\fP. Si se detecta cualquier acción, \fBdpkg\fP ejecuta
\fBdpkg\-deb\fP o \fBdpkg\-query\fP con los parámetros dados, pero no se les
introduce ninguna opción específica. Para utilizar cualquier opción se deben
ejecutar directamente.
.
.SH "INFORMACIÓN SOBRE PAQUETES"
\fBdpkg\fP posibilita el acceso a bastante información sobre los paquetes
disponibles. Esta información se divide en tres clases: \fBestados\fP,
\fBestados de selección\fP e \fBindicadores\fP. Habitualmente, estos valores se
modifican principalmente con \fBdselect\fP.
.SS "ESTADOS DEL PAQUETE"
.TP 
\fBnot\-installed\fP
El paquete no está instalado en el sistema.
.TP 
\fBconfig\-files\fP
Sólo quedan los ficheros de configuración del paquete en el sistema.
.TP 
\fBhalf\-installed\fP
Se inició la instalación del paquete, pero no se completó por alguna razón.
.TP 
\fBunpacked\fP
El paquete está descomprimido, pero no configurado.
.TP 
\fBhalf\-configured\fP
El paquete está descomprimido y la configuración se ha iniciado, pero no
finalizó por alguna razón.
.TP 
\fBtriggers\-awaited\fP
El paquete aguarda al proceso de los disparadores de otro paquete.
.TP 
\fBtriggers\-pending\fP
Los disparadores del paquete se han activado.
.TP 
\fBinstalled\fP
El paquete está correctamente desempaquetado y configurado.
.SS "ESTADOS DE SELECCIÓN DEL PAQUETE"
.TP 
\fBinstall\fP
El paquete se ha seleccionado para su instalación.
.TP 
\fBhold\fP
\fBdpkg\fP no modificará un paquete marcado con \fBhold\fP (retenido), a no ser
que se le fuerce a ello con la opción \fB\-\-force\-hold\fP.
.TP 
\fBdeinstall\fP
El paquete se ha seleccionado para su desinstalación (es decir, que queremos
borrar todo excepto los ficheros de configuración).
.TP 
\fBpurge\fP
El paquete se ha seleccionado para que se purgue (es decir, que queremos
borrar todo en los directorios del sistema, incluyendo los ficheros de
configuración).
.SS "INDICADORES DEL PAQUETE"
.TP 
\fBreinst\-required\fP
Un paquete marcado con \fBreinst\-required\fP está roto y precisa una
reinstalación. Estos paquetes no se pueden borrar a no ser que fuerce la
acción con la opción \fB\-\-force\-remove\-reinstreq\fP.
.
.SH ACCIONES
.TP 
\fB\-i\fP, \fB\-\-install\fP \fIfichero\-paquete\fP...
Instala el paquete. Si se especifica la opción \fB\-\-recursive\fP o \fB\-R\fP, el
\fIfichero\-paquete\fP debe ser un directorio.

La instalación consiste de los siguientes pasos:
.br

\fB1.\fP Extracción de los ficheros de control del paquete nuevo.
.br

\fB2.\fP De existir otra versión del mismo paquete en el sistema, se ejecuta el
script \fIprerm\fP (pre\-eliminación) del antiguo paquete.
.br

\fB3.\fP Ejecución del script \fIpreinst\fP (pre\-instalación) del paquete, de
existir.
.br

\fB4.\fP Desempaquetado de los nuevos ficheros, a la vez que se crea una copia
de seguridad de los antiguos para su restauración en caso de fallo.
.br

\fB5.\fP De existir otra versión del mismo paquete previamente instalado en el
sistema, se ejecutará el script \fIpostrm\fP (post\-eliminación) del paquete
antiguo. Tenga en cuenta que este script se ejecuta después del script
\fIpreinst\fP del paquete nuevo ya que los nuevos ficheros se escriben a la vez
que se borran los antiguos.
.br

\fB6.\fP Configuración del paquete. Para una información detallada sobre este
proceso, consulte \fB\-\-configure\fP.
.TP 
\fB\-\-unpack \fP\fIfichero\-paquete\fP ...
Desempaqueta el paquete, pero no lo configura. Si se introducen las opciones
\fB\-\-recursive\fP o \fB\-R\fP el \fIfichero\-paquete\fP debe ser un directorio.
.TP 
\fB\-\-configure \fP\fIpaquete\fP...|\fB\-a\fP|\fB\-\-pending\fP
Configura un paquete que está desempaquetado pero no configurado. Si se
introducen las opciones \fB\-a\fP o \fB\-\-pending\fP en lugar de un \fIpaquete\fP, se
configurarán todos los paquetes desempaquetados pero no configurados.

Para reconfigurar un paquete que ya fue configurado, pruebe la orden
\fBdpkg\-reconfigure\fP(8).

La configuración consiste de los siguientes pasos:
.br

\fB1.\fP Desempaquetado de los ficheros de configuración «conffiles», a la vez
se crea una copia de seguridad de los antiguos para su restauración en caso
de fallo.
.br

\fB2.\fP Ejecución del script \fIpostinst\fP (post\-instalación) del paquete, si
existe.
.TP 
\fB\-\-triggers\-only\fP \fIpaquete\fP...|\fB\-a\fP|\fB\-\-pending\fP
Procesa sólo los disparadores. Todos los disparadores pendientes (estado
«pending») se procesan. Su se introducen nombres de paquete, solo se
procesan los disparadores de esos paquetes, y cada uno cuando es
necesario. El uso de esta opción puede dejar paquetes con los estados no
deseados de \fBtriggers\-awaited\fP y \fBtriggers\-pending\fP. Puede arreglar esto
posteriormente ejecutando \fBdpkg \-\-configure \-\-pending\fP.
.TP 
\fB\-r\fP, \fB\-\-remove\fP, \fB\-P\fP, \fB\-\-purge \fP\fIpaquete\fP...|\fB\-a\fP|\fB\-\-pending\fP
Elimina un paquete instalado. Las opciones \fB\-r\fP y \fB\-\-remove\fP eliminan todo
excepto los ficheros de configuración «conffiles». Esto puede evitar tener
que configurar de nuevo el paquete si se reinstala después (los «conffiles»
son ficheros de configuración listados en el fichero de control
\fIDEBIAN/conffiles\fP). \fB\-P\fP o \fB\-\-purge\fP eliminan todo incluyendo los
ficheros de configuración «conffile». De utilizar las opciones \fB\-a\fP y
\fB\-\-pending\fP en lugar de un nombre de paquete, todos los que están al menos
desempaquetados pero marcados para su eliminación o purgación en
\fI/var/lib/dpkg/status\fP se eliminarán o purgarán respectivamente. Nota:
puede que \fBdpkg\fP desconozca algunos ficheros si su creación y manipulación
ocurrió aisladamente a través de los scripts de configuración. De ser así,
\fBdpkg\fP no los eliminará directamente sino que el script \fIpostrm\fP del
paquete (ejecutado por \fBdpkg\fP) ejecutará la eliminación de estos ficheros
durante la purgación del paquete. Por supuesto, esto sólo tiene efecto en
los directorios de sistema, no sobre los ficheros de configuración escritos
en los directorios «home/» de usuario.

La eliminación de un paquete consiste de los siguientes pasos:
.br

\fB1.\fP Ejecución del script \fIprerm\fP.
.br

\fB2.\fP Eliminación de los ficheros instalados.
.br

\fB3.\fP Ejecución del script \fIpostrm\fP.
.br
.TP 
\fB\-\-update\-avail\fP, \fB\-\-merge\-avail\fP \fIfichero\-Packages\fP
Actualiza la lista de paquetes disponibles de \fBdpkg\fP y \fBdselect\fP. La
acción \fB\-\-merge\-avail\fP combina la información antigua con la información
del \fIfichero\-Packages\fP. El \fIfichero\-Packages\fP distribuido con Debian se
llama simplemente \fIPackages\fP. El programa \fBdpkg\fP guarda un registro de los
paquetes disponibles en \fI/var/lib/dpkg/available\fP.

\fBdselect update\fP ofrece una manera sencilla y directa de obtener y
actualizar el fichero \fIavailable\fP (disponible). Tenga en cuenta que el
fichero es casi inservible si usa una interfaz basada en APT en lugar de
\fBdselect\fP: APT tiene su propio sistema de registrar los paquetes
disponibles.
.TP 
\fB\-A\fP, \fB\-\-record\-avail\fP \fIfichero\-paquete\fP...
Actualiza la lista de paquetes disponibles de \fBdpkg\fP y \fBdselect\fP con la
información del \fIfichero\-paquete\fP. Si se define la opción \fB\-\-recursive\fP o
\fB\-R\fP, el \fIfichero\-paquete\fP debe ser un directorio.
.TP 
\fB\-\-forget\-old\-unavail\fP
\fBObsoleta\fP, y una opción inservible ya que \fBdpkg\fP olvidará automáticamente
los paquetes desinstalados no disponibles.
.TP 
\fB\-\-clear\-avail\fP
Elimina la información sobre qué paquetes están disponibles.
.TP 
 \fB\-C\fP, \fB\-\-audit\fP
Busca paquetes que se hayan instalado parcialmente en el sistema. El
programa \fBdpkg\fP sugerirá qué hacer con ellos para hacerlos funcionar.
.TP 
\fB\-\-get\-selections\fP [\fIpatrón\-nombre\-paquete\fP...]
Muestra la lista de selecciones de paquetes por la salida estándar. De no
introducir un patrón se mostrará la lista de paquetes no instalados (esto
es, previamente purgados).
.TP 
\fB\-\-set\-selections\fP
Define las selecciones de paquetes utilizando un fichero introducido por la
entrada estándar. Este fichero debe tener el formato «\fIpaquete\fP \fIestado\fP»,
en el que el estado es \fBinstall\fP, \fBhold\fP, \fBdeinstall\fP o \fBpurge\fP. Se
permiten las líneas vacías y líneas de comentarios que empiecen por «#».
.TP 
\fB\-\-clear\-selections\fP
Define el estado deseado de todo paquete no esencial para su
desinstalación. La intención es utilizar esto inmediatamente después de
«\-\-set\-selections», para desinstalar todo paquete que no esté en la lista
introducida a «\-\-set\-selections».
.TP 
\fB\-\-yet\-to\-unpack\fP
Busca los paquetes seleccionados para su instalación, pero que por alguna
razón todavía no se han instalado.
.TP 
\fB\-\-add\-architecture \fP\fIarquitectura\fP
Añade la \fIarquitectura\fP a la lista de arquitecturas donde los paquetes se
pueden instalar sin utilizar \fB\-\-force\-architecture\fP. La arquitectura para
la que se ha compilado \fBdpkg\fP (esto es, la salida de
\fB\-\-print\-architecture\fP) siempre forma parte de la lista.
.TP 
\fB\-\-remove\-architecture \fP\fIarquitectura\fP
Elimina la \fIarquitectura\fP de la lista de arquitecturas donde los paquetes
se pueden instalar sin utilizar \fB\-\-force\-architecture\fP. Esta operación se
rechaza si tal arquitectura se encuentra en uso en la base de datos, a menos
que se especifique \fB\-\-force\-architecture\fP. No se puede eliminar la
arquitectura para la que se ha compilado \fBdpkg\fP (esto es, la salida de
\fB\-\-print\-architecture\fP) de esta lista.
.TP 
\fB\-\-print\-architecture\fP
Muestra la arquitectura de los paquetes que \fBdpkg\fP instala (por ejemplo,
«i386»).
.TP 
\fB\-\-print\-foreign\-architectures\fP
Muestra una lista separada por líneas de las arquitecturas adicionales para
las que se ha configurado \fBdpkg\fP para permitir la instalación de paquetes.
.TP 
\fB\-\-compare\-versions \fP\fIver1 op ver2\fP
.\" .TP
.\" .B \-\-command\-fd \fIn\fP
.\" Accept a series of commands on input file descriptor \fIn\fP. Note:
.\" additional options set on the command line, and through this file descriptor,
.\" are not reset for subsequent commands executed during the same run.
Compara los números de versión, siendo \fIop\fP un operador binario. \fBdpkg\fP
devuelve éxito (cero) si la condición especificada se cumple, y fallo (un
resultado distinto de cero) en caso contrario. Hay dos grupos de operadores
que difieren en su comportamiento cuando les falta alguno de los operandos,
\fIver1\fP o \fIver2\fP. Los primeros tratan la falta de versión como la versión
más antigua posible: \fBlt le eq ne ge gt\fP. Los otros tratan la falta de
versión como la más moderna posible: \fBlt\-nl le\-nl ge\-nl gt\-nl\fP. Éstos se
proporcionan sólo por compatibilidad con la sintaxis del fichero de control:
\fB< << <= = >= >> >\fP.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Muestra un resumen de las instrucciones de uso.
.TP 
\fB\-\-force\-help\fP
Muestra la ayuda de las opciones \fB\-\-force\-\fP\fIalgo\fP.
.TP 
\fB\-Dh\fP, \fB\-\-debug=help\fP
Muestra la ayuda de las opciones de depuración.
.TP 
\fB\-\-version\fP
Muestra la versión de \fBdpkg\fP.
.TP 
\fBdpkg\-deb actions\fP
Consulte \fBdpkg\-deb\fP(1) para más información sobre las siguientes acciones.

.nf
\fB\-b\fP | \fB\-\-build\fP \fIdirectorio\fP [\fIfichero\fP]
    Construye un paquete Debian GNU/Linux.
\fB\-c\fP | \fB\-\-contents\fP \fIfichero\fP
    Muestra el contenido de un paquete Debian GNU/Linux.
\fB\-e\fP | \fB\-\-control\fP \fIfichero\fP [\fIdirectorio\fP]
    Extrae la información de control de un paquete.
\fB\-x\fP | \fB\-\-extract\fP \fIfichero directorio\fP
    Extrae los ficheros contenidos en el paquete.
\fB\-X\fP, \fB\-\-vextract\fP \fIarchive directory\fP
    Extrae y muestra los nombres de fichero que un
    paquete contiene.
\fB\-f\fP | \fB\-\-field\fP  \fIfichero\fP [\fIcampo\-control\fP] ...
    Muestra el/los campo(s) de control de un paquete.
\fB\-\-fsys\-tarfile\fP \fIfichero\fP
    Muestra el fichero tar contenido en el paquete deb.
\fBdpkg \-I\fP | \fB\-\-info\fP \fIfichero\fP [\fIfichero\-control\fP]
    Muestra información sobre el paquete.
.fi

.TP 
\fBdpkg\-query\-actions\fP
Para más información sobre las siguientes acciones consulte
\fBdpkg\-query\fP(1).

.nf

\fB\-l\fP | \fB\-\-list\fP \fIpatrón\-nombre\-paquete\fP ...
    Lista los paquetes cuyo nombre encaja en el patrón dado.
\fB\-s\fP | \fB\-\-status\fP \fInombre\-paquete\fP ...
    Informa del estado del paquete especificado.
\fB\-L\fP | \fB\-\-listfiles\fP \fIpaquete\fP ...
    Lista los ficheros instalados en el sistema que pertenecen a
    \fBpaquete\fP.
\fB\-S\fP | \fB\-\-search\fP \fIpatrón\-búsqueda\-ficheros\fP ...
    Busca un fichero en los paquetes instalados.
\fB\-p\fP | \fB\-\-print\-avail\fP \fIpaquete\fP ...
    Imprime información sobre el \fIpaquete\fP, extraída de
    \fI/var/lib/dpkg/available\fP. Los usuarios de interfaces de APT
    deberían utilizar \fBapt\-cache show\fP \fIpaquete\fP.
.fi
.
.SH OPCIONES
Todas las opciones se pueden definir en la línea de órdenes, en el fichero
de configuración de \fBdpkg\fP \fI/etc/dpkg/dpkg.cfg\fP o segmentos de fichero con
nombres que coincidan con el patrón de intérprete de órdenes
\(aq[0\-9a\-zA\-Z_\-]*\(aq) en el directorio de configuración
\fI/etc/dpkg/dpkg.cfg.d/\fP. Cada línea en el fichero de configuración una
opción (exactamente la misma que en la línea de órdenes, pero sin los
guiones iniciales) o un comentario (si empieza con \fB#\fP).
.br
.TP 
\fB\-\-abort\-after=\fP\fInúmero\fP
Modifica cuántos errores llevan a \fBdpkg\fP a interrumpir el proceso. El valor
por omisión es 50.
.TP 
\fB\-B\fP, \fB\-\-auto\-deconfigure\fP
Al eliminar un paquete puede que otro dependa de él. Definir esta opción
producirá la desconfiguración automática del paquete que dependía del
paquete eliminado.
.TP 
\fB\-D\fP\fIoctal\fP\fB, \-\-debug=\fP\fIoctal\fP
Activa el modo de depuración. El parámetro \fIoctal\fP se forma uniendo los
valores de la siguiente lista mediante la operación \fIor\fP a nivel de bits
(tenga en cuenta que estos valores podrían cambiar en futuras
versiones). \fB\-Dh\fP o \fB\-\-debug=help\fP muestran estos valores.

  Número  Descripción
     1   Información de progreso generalmente útil
     2    Ejecución y estado de los scripts del paquete
    10   Salida por cada fichero procesado
   100   Mucha salida por cada fichero procesado
    20   Salida por cada «conffile»
   200   Mucha salida por cada «conffile»
    40   Dependencias y conflictos
   400   Mucha salida sobre dependencias y conflictos
 10000   Activación de los disparadores y procesado
 20000   Una gran información de los disparadores
 40000   Niveles ridículos de información de los disparadores
  1000   Parrafadas sobre el directorio dpkg/info
  2000   Montañas de parrafadas (perjudica la salud)
.TP 
\fB\-\-force\-\fP\fIcosas\fP, \fB\-\-no\-force\-\fP\fIcosas\fP, \fB\-\-refuse\-\fP\fIcosas\fP

Fuerza o rechaza (\fBno\-force\fP y \fBrefuse\fP significan lo mismo) hacer ciertas
cosas. El parámetro \fIcosas\fP es una lista de cosas definidas a continuación
y separadas por comas. La opción \fB\-\-force\-help\fP muestra un mensaje que las
describe. Las cosas marcadas con (*) se fuerzan por omisión.

\fIAviso: Estas opciones están pensadas básicamente para un uso
experto. Usarlas sin conocer totalmente sus efectos podría dejar su sistema
sin funcionamiento.\fP

\fBall\fP: Activa (o desactiva) todas las opciones de forzar.

\fBdowngrade\fP(*): Instala un paquete, incluso si ya existe una versión más
nueva instalada.

\fIAviso: actualmente dpkg no comprueba de ninguna manera las dependencias al
desactualizar y por lo tanto no avisará si rompe alguna dependencia de otro
paquete. Una situación así podría tener efectos secundarios graves;
desactualizar componentes esenciales del sistema incluso podría inutilizar
su sistema por completo. Úselo con cuidado.\fP

\fBconfigure\-any\fP: Configura también los paquetes desempaquetados pero no
configurados sobre los que depende el paquete.

\fBhold\fP: Procesa los paquetes incluso si están marcados con «hold»
(retener).

\fBremove\-reinstreq\fP: Elimina un paquete incluso si está roto y marcado para
una necesaria reinstalación. Esto podría causar, por ejemplo, que algunas
partes del paquete quedasen en el sistema, de las que \fBdpkg\fP se olvidaría.

\fBremove\-essential\fP: Elimina, incluso si el paquete se considera
esencial. Los paquetes esenciales contienen principalmente órdenes de Unix
muy básicas. Borrarlos podría hacer que el sistema dejase de funcionar en
absoluto así que use esta opción con cuidado.

\fBdepends\fP: Convierte todos los problemas de dependencias en avisos.

\fBdepends\-version\fP: No tiene en cuenta las versiones al comprobar las
dependencias.

\fBbreaks\fP: Instala, aunque suponga romper otro paquete.

\fBconflicts\fP: Instala, incluso si entra en conflicto con otro paquete. Esta
opción es peligrosa dado que generalmente sobreescribirá algunos ficheros.

\fBconfmiss\fP: Si no se encuentra un fichero de configuración «conffile» y ha
cambiado la versión en el paquete, instala el «conffile» perdido sin
solicitar confirmación. Es peligroso porque no guarda los cambios (la
eliminación) hechos al fichero.

\fBconfnew\fP: Si se ha modificado un fichero de configuración «conffile» y ha
cambiado la versión en el paquete, instala siempre la nueva versión sin
solicitar confirmación, a menos que se defina también la opción
\fB\-\-force\-confdef\fP, en cuyo caso se toma la acción predefinida.

\fBconfold\fP: Si se ha modificado un fichero de configuración «conffile» y ha
cambiado la versión en el paquete, mantiene siempre la versión existente sin
solicitar confirmación, a menos que también se defina la opción
\fB\-\-force\-confdef\fP, en cuyo caso se toma la acción predefinida.

\fBconfdef\fP: Si se ha modificado un fichero de configuración «conffile» y ha
cambiado la versión en el paquete, selecciona siempre la acción
predeterminada sin solicitar confirmación. Si no existe tal acción, se
detendrá y consultará al usuario, a no ser que se usen también las opciones
\fB\-\-force\-confnew\fP o \fB\-\-force\-confold\fP, en cuyo caso se usará una de estas
opciones para tomar la decisión final.

\fBconfdef\fP: Si se ha modificado un fichero de configuración «conffile»,
ofrece siempre reemplazar este con la versión en el paquete incluso si la
versión del paquete no ha cambiado. Si se introduce cualquiera de las
opciones \fB\-\-force\-confnew\fP o \fB\-\-force\-confold\fP o \fB\-\-force\-confdef\fP, se
usará esta para tomar la decisión final.

\fBoverwrite\fP: Sobreescribe un fichero de un paquete con un fichero de otro.

\fBoverwrite\-dir\fP: Sobreescribe un directorio de un paquete con un fichero de
otro.

\fBoverwrite\-diverted\fP: Sobreescribe una versión desviada de un fichero con
una no desviada.

\fBunsafe\-io\fP: No realiza las operaciones I/O seguras al
desempaquetar. Actualmente, implica que no se realiza la sincronización del
sistema de ficheros antes de renombrar un fichero, lo cual causa una
apreciable degradación del rendimiento en algunos sistemas de
fichero. Desafortunadamente, los que requieren I/O segura para empezar en
primer lugar debido a su comportamiento irregular causan ficheros de tamaño
cero en fallos severos del sistema.

\fINote\fP: Para ext4, el sistema con más problemas de este sentido, considere
utilizar la opción de montaje \fBnodelalloc\fP, lo que arregla la degradación
del rendimiento y los problemas de seguridad de datos. Lo último lo
soluciona haciendo que el sistema de ficheros no produzca ficheros de tamaño
cero durante fallos severos del sistema con cualquier software que no
realiza una sincronización antes de los renombres atómicos.

\fIAdvertencia: Usar esta opción puede aumentar el rendimiento a costa de la
pérdida de datos. Úselo con cuidado.\fP

\fBarchitecture\fP: Procesa los paquetes, incluso si no son de la arquitectura
adecuada o correcta.

\fBbad\-version\fP: Procesa los paquetes incluso si la versión es errónea.

\fBbad\-path\fP: \fBPATH\fP no contiene algunos programas importantes, así que es
bastante posible que haya problemas.

\fBnot\-root\fP: Intenta la (des)instalación incluso si no es el usuario «root».

\fBbad\-verify\fP: Instala un paquete aunque falle la comprobación de
autenticidad.

.TP 
\fB\-\-ignore\-depends\fP=\fIpaquete\fP,...
Ignora la comprobación de dependencias para los paquetes definidos (en
realidad, se hacen las comprobaciones pero se imprimen avisos en vez de
interrumpir el proceso).
.TP 
\fB\-\-no\-act\fP, \fB\-\-dry\-run\fP, \fB\-\-simulate\fP
Hace todo lo que se supone que debe hacer, pero no realiza ningún cambio. Se
utiliza para ver qué ocurriría con las opciones seleccionadas sin realizar
cambios reales.

Asegúrese de introducir la opción \fB\-\-no\-act\fP antes del parámetro de acción,
o podría acabar con resultados no deseados. (Por ejemplo: \fBdpkg \-\-purge foo
\-\-no\-act\fP purgará primero el paquete foo y luego intentará purgar el paquete
\-\-no\-act, ¡aunque probablemente usted esperaba que no hiciera nada!).
.TP 
\fB\-R\fP, \fB\-\-recursive\fP
Actúa recursivamente sobre todos los ficheros que coincidan con el patrón
\fB*.deb\fP que se encuentren en el directorio definido, y también todos sus
subdirectorios. Se puede utilizar con las opciones \fB\-i\fP, \fB\-A\fP,
\fB\-\-install\fP, \fB\-\-unpack\fP y \fB\-\-avail\fP.
.TP 
\fB\-G\fP
No instala un paquete del que ya existe una versión más nueva en el
sistema. Es un alias de \fB\-\-refuse\-downgrade\fP.
.TP 
\fB\-\-admindir=\fP\fIdirectorio\fP
Cambia el directorio de administración predefinido. Éste contiene muchos
ficheros que ofrecen información relativa al estado de paquetes instalados o
no instalados, etc. (Por omisión, \fI/var/lib/dpkg\fP.)
.TP 
\fB\-\-instdir=\fP\fIdirectorio\fP
Cambia el directorio de instalación predefinido, la ubicación en la que se
instalarán los paquetes. \fBinstdir\fP es también el directorio introducido a
\fBchroot\fP(2) antes de ejecutar los scripts de instalación del paquete, lo
que significa que éstos verán \fBinstdir\fP como directorio raíz. (Por omisión,
\fI/\fP.)
.TP 
\fB\-\-root=\fP\fIdirectorio\fP
Cambiar \fBroot\fP da el valor de \fIdirectorio\fP a \fBinstdir\fP, y el valor
\fIdir\fP\fB/var/lib/dpkg\fP a \fBadmindir\fP.
.TP 
\fB\-O\fP, \fB\-\-selected\-only\fP
Procesa sólo los paquetes seleccionados para su instalación. La marca en sí
la hacen \fBdselect\fP o \fBdpkg\fP al manipular paquetes. Por ejemplo, si se
borra uno, éste se marcará para su desinstalación.
.TP 
\fB\-E\fP, \fB\-\-skip\-same\-version\fP
Evita la instalación de un paquete si tiene la misma versión que la ya
instalada.
.P
\fB\-\-pre\-invoke=\fP\fIorden\fP
.br
\fB\-\-post\-invoke=\fP\fIorden\fP
.RS
Define una \fIorden\fP «hook» que se ejecutará mediante «sh \-c» antes o después
de que dpkg ejecute una acción \fIunpack\fP, \fIconfigure\fP, \fIinstall\fP,
\fItriggers\-only\fP, \fIremove\fP o \fIpurge\fP. Puede definir esta opción varias
veces. Se respeta el orden de aparición de las opciones, con preferencia de
las presentes en los ficheros de configuración. La variable de entorno
\fBDPKG_HOOK_ACTION\fP define los «hooks» a la acción de dpkg actual.Nota:
puede que las interfaces ejecuten dpkg varias veces en cada ejecución, lo
cual puede ejecutar más órdenes encadenadas que las esperadas.
.RE
.P
\fB\-\-path\-exclude=\fP\fIcomodín\fP
.br
\fB\-\-path\-include=\fP\fIcomodín\fP
.RS
Define \fIcomodín\fP («glob pattern») como un filtro de ruta, bien excluyendo o
incluyendo otra vez rutas anteriormente excluidas que encajan con los
patrones definidos durante la instalación.

\fIAviso: tenga en cuenta que dependendiendo de las rutas que excluya, puede
dejar su sistema inutilizable, úselo con precuación.\fP

Los patrones de comodín («glob») usan los mismos comodines que el intérprete
de órdenes, donde «*» encaja con cualquier cadena de caracteres, incluyendo
una cadena vacía y «/». Por ejemplo, \fI'/usr/*/READ*'\fP encaja con
\&\fI'/usr/share/doc/package/README'\fP. Como es habitual, «?» encaja cualquier
carácter único (una vez más, incluyendo «/»). Y «[» inicia una clase
(«class») de carácter, que puede contener una lista de caracteres, rangos y
complementaciones. Consulte \fBglob\fP(7) para más información acerca del uso
de comodines. Nota: puede que la implementación actual incluya otra vez más
directorios y enlaces simbólicos que los necesarios. Puede que un desarrollo
en el futuro arregle esto para estar más seguros y evitar un posible error
de desempaquetado.

Puede utilizar esto para eliminar todas las rutas a excepción de algunas en
particular; un típico uso es:

.nf
\fB\-\-path\-exclude=/usr/share/doc/*\fP
\fB\-\-path\-include=/usr/share/doc/*/copyright\fP
.fi

para eliminar todos los ficheros de documentación a excepción de los
ficheros de derechos de autor.

Estas dos opciones se pueden definir varias veces, y se pueden
interpolar. Ambos se procesan en el orden dado, y la última regla que encaja
con un nombre de fichero realiza la decisión.
.RE
.TP 
\fB\-\-status\-fd \fP\fIn\fP
Envía la información del estado del paquete e información de progreso en
formato máquina al descriptor de fichero \fIn\fP. Puede introducir esta opción
varias veces. La información aparece habitualmente con un registro por
línea, en una de las siguientes formas:
.RS
.TP 
\fBstatus: \fP\fIpaquete\fP\fB: \fP\fIestado\fP
El estado del paquete ha cambiado; el \fIestado\fP es el que aparece en el
fichero de estado.
.TP 
\fBstatus: \fP\fIpaquete\fP\fB : error : \fP\fImensaje\-de\-fallo\-detallado\fP
Se ha detectado un fallo. Cualquier nueva línea en
\fImensaje\-de\-fallo\-detallado\fP se convertirá a espacios antes de aparecer por
la salida.
.TP 
\fBstatus: \fP\fIfichero\fP\fB : conffile\-prompt : '\fP\fIreal\-old\fP\fB' '\fP\fIreal\-new\fP\fB' \fP\fIedición\-usuario\fP\fB \fP\fIedición\-distribución\fP
El usuario tiene que responder a una pregunta de un fichero de configuración
«conffile».
.TP 
\fBprocessing: \fP\fIetapa\fP\fB: \fP\fIpaquete\fP
Se envía justo después del inicio del estado de procesamiento. El \fIestado\fP
puede ser \fBupgrade\fP, \fBinstall\fP (ambos se envían antes de desempaquetar),
\fBconfigure\fP, \fBtrigproc\fP, \fBdisappear\fP, \fBremove\fP o \fBpurge\fP.
.RE
.TP 
\fB\-\-status\-logger\fP=\fIorden\fP
Envía la información del estado del paquete e información de progreso en
formato máquina a la entrada estándar de la orden de consola. Puede
introducir esta opción varias veces. El formato de la salida es el mismo que
\fB\-\-status\-fd.\fP
.RE
.TP 
\fB\-\-log=\fP\fIfichero\fP
Registra los cambios de estado y acciones en el \fIfichero\fP, en lugar del
predefinido, \fI/var/log/dpkg.log\fP. Se usará el último fichero introducido en
caso de definir varios. Los mensajes del registro tienen el formato
«YYYY\-MM\-DD HH:MM:SS status \fIestado\fP \fIpaquete\fP \fIversión\-instalada\fP» para
actualizaciones de cambios de estado; «YYYY\-MM\-DD HH:MM:SS \fIacción\fP
\fIpaquete\fP \fIversión\-instalada\fP \fIversión\-disponible\fP» para aquellas
acciones en las que la \fIacción\fP es \fBinstall\fP, \fBupgrade\fP, \fBremove\fP o
\fBpurge\fP y «YYYY\-MM\-DD HH:MM:SS conffile \fIfichero\fP \fIdecisión\fP» para
aquellos cambios en «conffiles» en los que la \fIdecisión\fP es \fBinstall\fP o
\fBkeep\fP.
.TP 
\fB\-\-no\-debsig\fP
No intenta verificar las firmas de los paquetes.
.TP 
\fB\-\-no\-triggers\fP
No ejecuta ningún disparador durante esta ejecución (se registran las
activaciones). Si se usa con \fB\-\-configure\fP \fIpaquete\fP o \fB\-\-triggers\-only\fP
\fIpaquete\fP, el script «postinst» del paquete nombrado tendrá permisos de
ejecución aunque sólo se necesite ejecutar un disparador. El uso de esta
opción puede dejar paquetes con el estado no deseado de \fBtriggers\-awaited\fP
y \fBtriggers\-pending\fP. Puede arreglar esto más tarde ejecutando \fBdpkg
\-\-configure \-\-pending\fP.
.TP 
\fB\-\-triggers\fP
Cancela un \fB\-\-no\-triggers\fP previo.
.
.SH FICHEROS
.TP 
\fI/etc/dpkg/dpkg.cfg.d/[0\-9a\-zA\-Z_\-]*\fP
Fragmentos de ficheros de configuración.
.TP 
\fI/etc/dpkg/dpkg.cfg\fP
El fichero de configuración con las opciones predefinidas.
.TP 
\fI/var/log/dpkg.log\fP
El fichero de registro predefinido (consulte \fI/etc/dpkg/dpkg.cfg\fP(5) y la
opción \fB\-\-log\fP).
.P
Los otros ficheros listados a continuación están en sus directorios
predefinidos. Consulte la opción \fB\-\-admindir\fP para ver cómo modificar la
ubicación de estos ficheros.
.TP 
\fI/var/lib/dpkg/available\fP
Lista de paquetes disponibles.
.TP 
\fI/var/lib/dpkg/status\fP
Los estados de los paquetes disponibles. Este fichero contiene información
sobre si un paquete está marcado o no para su eliminación, si está o no está
instalado, etc. Para más información, consulte el apartado \fBINFORMACIÓN
SOBRE PAQUETES\fP.

Una copia de seguridad diaria del fichero de estado se crea en
\fI/var/backups\fP. Puede ser útil si se ha perdido o ha quedado dañado por
problemas con el sistema de ficheros.
.P
Los siguientes ficheros son componentes de un paquete binario. Consulte
\fBdeb\fP(5) para más información sobre éstos:
.TP 
\fIcontrol\fP
.TP 
\fIconffiles\fP
.TP 
\fIpreinst\fP
.TP 
\fIpostinst\fP
.TP 
\fIprerm\fP
.TP 
\fIpostrm\fP
.
.SH ENTORNO
.TP 
\fBHOME\fP
Si se define, \fBdpkg\fP lo usará como el directorio del cual leer el fichero
de configuración específico del usuario.
.TP 
\fBTMPDIR\fP
Si se define, \fBdpkg\fP lo usará como el directorio en el que crear ficheros y
directorios temporales.
.TP 
\fBPAGER\fP
El programa que \fBdpkg\fP ejecutará al mostrar los ficheros de configuración
«conffiles».
.TP 
\fBSHELL\fP
El programa que \fBdpkg\fP ejecutará al iniciar un nuevo intérprete de órdenes.
.TP 
\fBCOLUMNS\fP
Define el número de columnas que \fBdpkg\fP puede utilizar para mostrar la
información. Por ahora sólo la usa la opción «\-l».
.TP 
\fBDPKG_SHELL_REASON\fP
Definido por \fBdpkg\fP en el intérprete de órdenes iniciado en el diálogo del
fichero de configuración «conffile» para examinar la situación. El valor
válido actualmente es \fBconffile\-prompt\fP.
.TP 
\fBDPKG_CONFFILE_OLD\fP
Definido por \fBdpkg\fP en el intérprete de órdenes iniciado en el diálogo del
fichero de configuración «conffile» para examinar la situación. Contiene la
ruta al fichero de configuración antiguo.
.TP 
\fBDPKG_CONFFILE_NEW\fP
Definido por \fBdpkg\fP en el intérprete de órdenes iniciado en el diálogo del
fichero de configuración «conffile» para examinar la situación. Contiene la
ruta al fichero de configuración «conffile» nuevo.
.TP 
\fBDPKG_RUNNING_VERSION\fP
Definido por \fBdpkg\fP en el script del entorno del mantenedor con el valor de
la versión en ejecución de \fBdpkg\fP.
.TP 
\fBDPKG_MAINTSCRIPT_PACKAGE\fP
Definido por \fBdpkg\fP en el script de entorno del mantenedor con el valor del
nombre del paquete manipulado.
.TP 
\fBDPKG_MAINTSCRIPT_ARCH\fP
Definido por \fBdpkg\fP en el script de entorno del mantenedor con el valor de
la arquitectura de paquete para la cual se compiló.
.TP 
\fBDPKG_MAINTSCRIPT_NAME\fP
Definido por \fBdpkg\fP en el script del entorno del mantenedor con el valor
del nombre del script en ejecución («preinst», «postinst», «prerm»,
«postrm»).
.
.SH EJEMPLOS
Para instalar paquetes relacionados con el editor \fBvi\fP(1) (tenga en cuenta
que \fBdpkg\-query\fP ya no carga el fichero disponible de forma predeterminada,
y para ello se debe utilizar \fBdpkg\-query\fP \fB\-\-load\-avail\fP):
.br
     \fBdpkg \-l \(aq*vi*\(aq\fP
.br

Para ver las entradas en \fI/var/lib/dpkg/available\fP de dos paquetes:
.br
     \fBdpkg \-\-print\-avail elvis vim | less\fP
.br

Para buscar personalmente en la lista de paquetes:
.br
     \fBless /var/lib/dpkg/available\fP
.br

Para borrar un paquete instalado llamado elvis:
.br
     \fBdpkg \-r elvis\fP
.br

Para instalar un paquete, éste tiene que estar disponible en un archivo o
disco óptico. El fichero «available» muestra que el paquete vim está en la
sección «editors»:
.br
     \fBcd /media/cdrom/pool/main/v/vim\fP
     \fBdpkg \-i vim_4.5\-3.deb\fP
.br

Para hacer una copia local de las selecciones de estados de paquetes:
.br
     \fB dpkg \-\-get\-selections >mis\-selecciones\fP
.br

Podría copiar este fichero a otra máquina e instalarlo allí con:
.br
     \fBdpkg \-\-clear\-selections\fP
     \fBdpkg \-\-set\-selections <mis\-selecciones\fP
.br

Tenga en cuenta que esto no instalará ni borrará nada, simplemente
modificará el estado de selección de los paquetes seleccionados. Necesitará
otra aplicación para obtener los paquetes e instalarlos. Por ejemplo,
ejecute \fBapt\-get dselect\-upgrade\fP.

Por lo general, encontrará que \fBdselect\fP(8) es una forma más cómoda de
modificar los estados de selección de los paquetes.
.br
.
.SH "FUNCIONALIDAD ADICIONAL"
Puede ganar funcionalidades adicionales instalando alguno de los siguientes
paquetes: \fIapt\fP, \fIaptitude\fP y \fIdebsums\fP.
.
.SH "VÉASE TAMBIÉN"
\fBaptitude\fP(1), \fBapt\fP(1), \fBdselect\fP(1), \fBdpkg\-deb\fP(1), \fBdpkg\-query\fP(1),
\fBdeb\fP(5), \fBdeb\-control\fP(5), \fBdpkg.cfg\fP(5), y \fBdpkg\-reconfigure\fP(8).
.
.SH FALLOS
Habitualmente, la opción \fB\-\-no\-act\fP da menos información de la que
necesita.
.
.SH AUTORES
Consulte \fI/usr/share/doc/dpkg/THANKS\fP para una lista de las personas que
han contribuido a \fBdpkg\fP.
.SH "TRADUCTOR"
Rudy Godoy <rudy@kernel\-panik.org>,
Rubén Porras <nahoo@inicia.es>,
Bruno Barrera C. <bruno.barrera@igloo.cl>,
Carlos Izquierdo <gheesh@ertis.net>,
Esteban Manchado y
NOK.
Debian L10n Spanish <debian\-l10n\-spanish@lists.debian.org>.
.br
Revisiones por Santiago Vila <sanvila@unex.es>,
Javier Fernández\-Sanguino, Rubén Porras,
Luis Uribe y Omar Campagne.
