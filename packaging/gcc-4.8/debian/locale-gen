#!/bin/sh

LOCPATH=`pwd`/locales
export LOCPATH

[ -d $LOCPATH ] || mkdir -p $LOCPATH

umask 022

echo "Generating locales..."
while read locale charset; do
	case $locale in \#*) continue;; esac
	[ -n "$locale" -a -n "$charset" ] || continue
	echo -n "  `echo $locale | sed 's/\([^.\@]*\).*/\1/'`"
	echo -n ".$charset"
	echo -n `echo $locale | sed 's/\([^\@]*\)\(\@.*\)*/\2/'`
	echo -n '...'
        if [ -f $LOCPATH/$locale ]; then
	    input=$locale
	else
            input=`echo $locale | sed 's/\([^.]*\)[^@]*\(.*\)/\1\2/'`
	fi
	localedef -i $input -c -f $charset $LOCPATH/$locale #-A /etc/locale.alias
	echo ' done'; \
done <<EOF
# This file lists locales that the libstdc++ testsuite depends on
de_DE			ISO-8859-1
de_DE@euro		ISO-8859-15
en_HK			ISO-8859-1
en_PH			ISO-8859-1
en_US			ISO-8859-1
en_US.ISO-8859-1	ISO-8859-1
en_US.ISO-8859-15	ISO-8859-15
en_US.UTF-8		UTF-8
es_ES			ISO-8859-1
es_MX			ISO-8859-1
fr_FR			ISO-8859-1
fr_FR@euro		ISO-8859-15
is_IS			ISO-8859-1
is_IS.UTF-8		UTF-8
it_IT			ISO-8859-1
ja_JP.eucjp		EUC-JP
se_NO.UTF-8		UTF-8
ta_IN			UTF-8
zh_TW			BIG5
EOF

echo "Generation complete."
