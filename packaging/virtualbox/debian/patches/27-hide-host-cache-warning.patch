Description: Silently enable the host I/O cache when the image is on an ext4/XFS partition.
 No need to warn users about it.
Author: Felix Geyer <debfx-pkg@fobos.de>

diff -Nur virtualbox-ose-4.0.0-dfsg.orig/src/VBox/Main/src-client/ConsoleImpl2.cpp virtualbox-ose-4.0.0-dfsg/src/VBox/Main/src-client/ConsoleImpl2.cpp
--- virtualbox-ose-4.0.0-dfsg.orig/src/VBox/Main/src-client/ConsoleImpl2.cpp	2010-12-22 15:00:24.000000000 +0100
+++ virtualbox-ose-4.0.0-dfsg/src/VBox/Main/src-client/ConsoleImpl2.cpp	2011-01-02 00:15:06.952597774 +0100
@@ -2890,36 +2890,12 @@
                     if (   enmFsTypeFile == RTFSTYPE_EXT4
                         || enmFsTypeFile == RTFSTYPE_XFS)
                     {
-                        setVMRuntimeErrorCallbackF(pVM, this, 0,
-                                "Ext4PartitionDetected",
-                                N_("The host I/O cache for at least one controller is disabled "
-                                   "and the medium '%ls' for this VM "
-                                   "is located on an %s partition. There is a known Linux "
-                                   "kernel bug which can lead to the corruption of the virtual "
-                                   "disk image under these conditions.\n"
-                                   "Either enable the host I/O cache permanently in the VM "
-                                   "settings or put the disk image and the snapshot folder "
-                                   "onto a different file system.\n"
-                                   "The host I/O cache will now be enabled for this medium"),
-                                strFile.raw(), enmFsTypeFile == RTFSTYPE_EXT4 ? "ext4" : "xfs");
                         fUseHostIOCache = true;
                     }
                     else if (  (   enmFsTypeSnap == RTFSTYPE_EXT4
                                 || enmFsTypeSnap == RTFSTYPE_XFS)
                              && !mfSnapshotFolderExt4WarningShown)
                     {
-                        setVMRuntimeErrorCallbackF(pVM, this, 0,
-                                "Ext4PartitionDetected",
-                                N_("The host I/O cache for at least one controller is disabled "
-                                   "and the snapshot folder for this VM "
-                                   "is located on an %s partition. There is a known Linux "
-                                   "kernel bug which can lead to the corruption of the virtual "
-                                   "disk image under these conditions.\n"
-                                   "Either enable the host I/O cache permanently in the VM "
-                                   "settings or put the disk image and the snapshot folder "
-                                   "onto a different file system.\n"
-                                   "The host I/O cache will now be enabled for this medium"),
-                                enmFsTypeSnap == RTFSTYPE_EXT4 ? "ext4" : "xfs");
                         fUseHostIOCache = true;
                         mfSnapshotFolderExt4WarningShown = true;
                     }
