<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ClutterScrollActor</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Clutter Reference Manual">
<link rel="up" href="ch02.html" title="Base actors">
<link rel="prev" href="ClutterText.html" title="ClutterText">
<link rel="next" href="ch03.html" title="Layout managers">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ClutterText.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Clutter Reference Manual</th>
<td><a accesskey="n" href="ch03.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#ClutterScrollActor.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#ClutterScrollActor.description" class="shortcut">Description</a>
                   | 
                  <a href="#ClutterScrollActor.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#ClutterScrollActor.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
                   | 
                  <a href="#ClutterScrollActor.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry">
<a name="ClutterScrollActor"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ClutterScrollActor.top_of_page"></a>ClutterScrollActor</span></h2>
<p>ClutterScrollActor — An actor for displaying a portion of its children</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="ClutterScrollActor.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">                    <a class="link" href="ClutterScrollActor.html#ClutterScrollActor-struct" title="ClutterScrollActor">ClutterScrollActor</a>;
struct              <a class="link" href="ClutterScrollActor.html#ClutterScrollActorClass" title="struct ClutterScrollActorClass">ClutterScrollActorClass</a>;
<a class="link" href="ClutterActor.html" title="ClutterActor"><span class="returnvalue">ClutterActor</span></a> *      <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-new" title="clutter_scroll_actor_new ()">clutter_scroll_actor_new</a>            (<em class="parameter"><code><span class="type">void</span></code></em>);
enum                <a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode">ClutterScrollMode</a>;
<span class="returnvalue">void</span>                <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-set-scroll-mode" title="clutter_scroll_actor_set_scroll_mode ()">clutter_scroll_actor_set_scroll_mode</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code><a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="type">ClutterScrollMode</span></a> mode</code></em>);
<a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="returnvalue">ClutterScrollMode</span></a>   <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-get-scroll-mode" title="clutter_scroll_actor_get_scroll_mode ()">clutter_scroll_actor_get_scroll_mode</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-scroll-to-point" title="clutter_scroll_actor_scroll_to_point ()">clutter_scroll_actor_scroll_to_point</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code>const <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-scroll-to-rect" title="clutter_scroll_actor_scroll_to_rect ()">clutter_scroll_actor_scroll_to_rect</a> (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code>const <a class="link" href="clutter-Base-geometric-types.html#ClutterRect" title="struct ClutterRect"><span class="type">ClutterRect</span></a> *rect</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----GInitiallyUnowned
         +----<a class="link" href="ClutterActor.html" title="ClutterActor">ClutterActor</a>
               +----ClutterScrollActor
</pre>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
ClutterScrollActor implements
 <a class="link" href="ClutterContainer.html" title="ClutterContainer">ClutterContainer</a>,  <a class="link" href="ClutterScriptable.html" title="ClutterScriptable">ClutterScriptable</a>,  <a class="link" href="ClutterAnimatable.html" title="ClutterAnimatable">ClutterAnimatable</a> and  AtkImplementorIface.</p>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="ClutterScrollActor.html#ClutterScrollActor--scroll-mode" title='The "scroll-mode" property'>scroll-mode</a>"              <a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="type">ClutterScrollMode</span></a>     : Read / Write
</pre>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.description"></a><h2>Description</h2>
<p>
<a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> is an actor that can be used to display a portion
of the contents of its children.
</p>
<p>
The extent of the area of a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> is defined by the size
of its children; the visible region of the children of a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
is set by using <a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-scroll-to-point" title="clutter_scroll_actor_scroll_to_point ()"><code class="function">clutter_scroll_actor_scroll_to_point()</code></a> or by using
<a class="link" href="ClutterScrollActor.html#clutter-scroll-actor-scroll-to-rect" title="clutter_scroll_actor_scroll_to_rect ()"><code class="function">clutter_scroll_actor_scroll_to_rect()</code></a> to define a point or a rectangle
acting as the origin, respectively.
</p>
<p>
<a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> does not provide pointer or keyboard event handling,
nor does it provide visible scroll handles.
</p>
<p>
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="gtkdoc ppc">#include &lt;stdlib.h&gt;</span>
<span class="gtkdoc ppc">#include &lt;glib.h&gt;</span>
<span class="gtkdoc ppc">#include &lt;clutter/clutter.h&gt;</span>

<span class="gtkdoc kwb">static const char</span> <span class="gtkdoc opt">*</span>menu_items_name<span class="gtkdoc opt">[] = {</span>
  <span class="string">&quot;Option 1&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 2&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 3&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 4&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 5&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 6&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 7&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 8&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 9&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 10&quot;</span><span class="gtkdoc opt">,</span>
  <span class="string">&quot;Option 11&quot;</span><span class="gtkdoc opt">,</span>
<span class="gtkdoc opt">};</span>

<span class="gtkdoc kwb">static const</span> guint menu_items_len <span class="gtkdoc opt">=</span> <span class="function">G_N_ELEMENTS</span> <span class="gtkdoc opt">(</span>menu_items_name<span class="gtkdoc opt">);</span>

<span class="gtkdoc kwb">static void</span>
<span class="function">select_item_at_index</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">,</span> 
                      <span class="gtkdoc kwb">int</span>           index_<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  ClutterPoint point<span class="gtkdoc opt">;</span>
  ClutterActor <span class="gtkdoc opt">*</span>menu<span class="gtkdoc opt">, *</span>item<span class="gtkdoc opt">;</span>
  gpointer old_selected<span class="gtkdoc opt">;</span>

  menu <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-first-child">clutter_actor_get_first_child</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">);</span>

  old_selected <span class="gtkdoc opt">=</span> <span class="function">g_object_get_data</span> <span class="gtkdoc opt">(</span><span class="function">G_OBJECT</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">),</span> <span class="string">&quot;selected-item&quot;</span><span class="gtkdoc opt">);</span>
  <span class="keyword">if</span> <span class="gtkdoc opt">(</span>old_selected <span class="gtkdoc opt">!=</span> NULL<span class="gtkdoc opt">)</span>
    <span class="gtkdoc opt">{</span>
      item <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-child-at-index">clutter_actor_get_child_at_index</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">,</span> <span class="function">GPOINTER_TO_INT</span> <span class="gtkdoc opt">(</span>old_selected<span class="gtkdoc opt">));</span>
      <span class="function"><a href="ClutterText.html#clutter-text-set-color">clutter_text_set_color</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_TEXT</span> <span class="gtkdoc opt">(</span>item<span class="gtkdoc opt">),</span> CLUTTER_COLOR_White<span class="gtkdoc opt">);</span>
    <span class="gtkdoc opt">}</span>

  <span class="comment">/* wrap around the index */</span>
  <span class="keyword">if</span> <span class="gtkdoc opt">(</span>index_ <span class="gtkdoc opt">&lt;</span> <span class="number">0</span><span class="gtkdoc opt">)</span>
    index_ <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-n-children">clutter_actor_get_n_children</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">) -</span> <span class="number">1</span><span class="gtkdoc opt">;</span>
  <span class="keyword">else if</span> <span class="gtkdoc opt">(</span>index_ <span class="gtkdoc opt">&gt;=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-n-children">clutter_actor_get_n_children</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">))</span>
    index_ <span class="gtkdoc opt">=</span> <span class="number">0</span><span class="gtkdoc opt">;</span>

  item <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-child-at-index">clutter_actor_get_child_at_index</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">,</span> index_<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-get-position">clutter_actor_get_position</a></span> <span class="gtkdoc opt">(</span>item<span class="gtkdoc opt">, &amp;</span>point<span class="gtkdoc opt">.</span>x<span class="gtkdoc opt">, &amp;</span>point<span class="gtkdoc opt">.</span>y<span class="gtkdoc opt">);</span>

  <span class="comment">/* scroll to the actor's position; the menu actor is always set at (0, 0),</span>
<span class="comment">   * so it does not contribute any further offset, and we can use the position</span>
<span class="comment">   * of its children to ask the ScrollActor to scroll the visible region; if</span>
<span class="comment">   * the menu actor had an offset, or was transformed, we would have needed to</span>
<span class="comment">   * get their relative transformed position instead.</span>
<span class="comment">   */</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-save-easing-state">clutter_actor_save_easing_state</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterScrollActor.html#clutter-scroll-actor-scroll-to-point">clutter_scroll_actor_scroll_to_point</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_SCROLL_ACTOR</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">), &amp;</span>point<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-restore-easing-state">clutter_actor_restore_easing_state</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">);</span>

  <span class="function"><a href="ClutterText.html#clutter-text-set-color">clutter_text_set_color</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_TEXT</span> <span class="gtkdoc opt">(</span>item<span class="gtkdoc opt">),</span> CLUTTER_COLOR_LightSkyBlue<span class="gtkdoc opt">);</span>

  <span class="comment">/* store the index of the currently selected item, so that we can</span>
<span class="comment">   * implement select_next_item() and select_prev_item()</span>
<span class="comment">   */</span>
  <span class="function">g_object_set_data</span> <span class="gtkdoc opt">(</span><span class="function">G_OBJECT</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">),</span> <span class="string">&quot;selected-item&quot;</span><span class="gtkdoc opt">,</span>
                     <span class="function">GINT_TO_POINTER</span> <span class="gtkdoc opt">(</span>index_<span class="gtkdoc opt">));</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static void</span>
<span class="function">select_next_item</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  gpointer selected_ <span class="gtkdoc opt">=</span> <span class="function">g_object_get_data</span> <span class="gtkdoc opt">(</span><span class="function">G_OBJECT</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">),</span> <span class="string">&quot;selected-item&quot;</span><span class="gtkdoc opt">);</span>

  <span class="function">select_item_at_index</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="function">GPOINTER_TO_INT</span> <span class="gtkdoc opt">(</span>selected_<span class="gtkdoc opt">) +</span> <span class="number">1</span><span class="gtkdoc opt">);</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static void</span>
<span class="function">select_prev_item</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  gpointer selected_ <span class="gtkdoc opt">=</span> <span class="function">g_object_get_data</span> <span class="gtkdoc opt">(</span><span class="function">G_OBJECT</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">),</span> <span class="string">&quot;selected-item&quot;</span><span class="gtkdoc opt">);</span>

  <span class="function">select_item_at_index</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="function">GPOINTER_TO_INT</span> <span class="gtkdoc opt">(</span>selected_<span class="gtkdoc opt">) -</span> <span class="number">1</span><span class="gtkdoc opt">);</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static</span> ClutterActor <span class="gtkdoc opt">*</span>
<span class="function">create_menu_item</span> <span class="gtkdoc opt">(</span><span class="gtkdoc kwb">const char</span> <span class="gtkdoc opt">*</span>name<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>text<span class="gtkdoc opt">;</span>

  text <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterText.html#clutter-text-new">clutter_text_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterText.html#clutter-text-set-font-name">clutter_text_set_font_name</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_TEXT</span> <span class="gtkdoc opt">(</span>text<span class="gtkdoc opt">),</span> <span class="string">&quot;Sans Bold 24&quot;</span><span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterText.html#clutter-text-set-text">clutter_text_set_text</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_TEXT</span> <span class="gtkdoc opt">(</span>text<span class="gtkdoc opt">),</span> name<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterText.html#clutter-text-set-color">clutter_text_set_color</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_TEXT</span> <span class="gtkdoc opt">(</span>text<span class="gtkdoc opt">),</span> CLUTTER_COLOR_White<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-margin-left">clutter_actor_set_margin_left</a></span> <span class="gtkdoc opt">(</span>text<span class="gtkdoc opt">,</span> <span class="number">12</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-margin-right">clutter_actor_set_margin_right</a></span> <span class="gtkdoc opt">(</span>text<span class="gtkdoc opt">,</span> <span class="number">12</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">);</span>

  <span class="keyword">return</span> text<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static</span> ClutterActor <span class="gtkdoc opt">*</span>
<span class="function">create_menu_actor</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>menu<span class="gtkdoc opt">;</span>
  ClutterLayoutManager <span class="gtkdoc opt">*</span>layout_manager<span class="gtkdoc opt">;</span>
  guint i<span class="gtkdoc opt">;</span>

  <span class="comment">/* this is our menu; it contains items in a vertical layout */</span>
  layout_manager <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterBoxLayout.html#clutter-box-layout-new">clutter_box_layout_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterBoxLayout.html#clutter-box-layout-set-orientation">clutter_box_layout_set_orientation</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_BOX_LAYOUT</span> <span class="gtkdoc opt">(</span>layout_manager<span class="gtkdoc opt">),</span>
                                      CLUTTER_ORIENTATION_VERTICAL<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterBoxLayout.html#clutter-box-layout-set-spacing">clutter_box_layout_set_spacing</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_BOX_LAYOUT</span> <span class="gtkdoc opt">(</span>layout_manager<span class="gtkdoc opt">),</span> <span class="number">12</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">);</span>

  menu <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-new">clutter_actor_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-layout-manager">clutter_actor_set_layout_manager</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">,</span> layout_manager<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-background-color">clutter_actor_set_background_color</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">,</span> CLUTTER_COLOR_Black<span class="gtkdoc opt">);</span>

  <span class="comment">/* these are the items */</span>
  <span class="keyword">for</span> <span class="gtkdoc opt">(</span>i <span class="gtkdoc opt">=</span> <span class="number">0</span><span class="gtkdoc opt">;</span> i <span class="gtkdoc opt">&lt;</span> menu_items_len<span class="gtkdoc opt">;</span> i<span class="gtkdoc opt">++)</span>
    <span class="function"><a href="ClutterActor.html#clutter-actor-add-child">clutter_actor_add_child</a></span> <span class="gtkdoc opt">(</span>menu<span class="gtkdoc opt">,</span> <span class="function">create_menu_item</span> <span class="gtkdoc opt">(</span>menu_items_name<span class="gtkdoc opt">[</span>i<span class="gtkdoc opt">]));</span>

  <span class="keyword">return</span> menu<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static</span> ClutterActor <span class="gtkdoc opt">*</span>
<span class="function">create_scroll_actor</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>stage<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">;</span>

  <span class="comment">/* our scrollable viewport */</span>
  scroll <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterScrollActor.html#clutter-scroll-actor-new">clutter_scroll_actor_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-name">clutter_actor_set_name</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="string">&quot;scroll&quot;</span><span class="gtkdoc opt">);</span>

  <span class="comment">/* give a vertical offset, and constrain the viewport so that its size</span>
<span class="comment">   * is bound to the stage size</span>
<span class="comment">   */</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-position">clutter_actor_set_position</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">,</span> <span class="number">18</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-add-constraint">clutter_actor_add_constraint</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="function"><a href="ClutterAlignConstraint.html#clutter-align-constraint-new">clutter_align_constraint_new</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> CLUTTER_ALIGN_X_AXIS<span class="gtkdoc opt">,</span> <span class="number">0.5</span><span class="gtkdoc opt">));</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-add-constraint">clutter_actor_add_constraint</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="function"><a href="ClutterBindConstraint.html#clutter-bind-constraint-new">clutter_bind_constraint_new</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> CLUTTER_BIND_HEIGHT<span class="gtkdoc opt">, -</span><span class="number">36</span><span class="gtkdoc opt">.</span>f<span class="gtkdoc opt">));</span>

  <span class="comment">/* we only want to scroll the contents vertically, and</span>
<span class="comment">   * ignore any horizontal component</span>
<span class="comment">   */</span>
  <span class="function"><a href="ClutterScrollActor.html#clutter-scroll-actor-set-scroll-mode">clutter_scroll_actor_set_scroll_mode</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_SCROLL_ACTOR</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">),</span>
                                        CLUTTER_SCROLL_VERTICALLY<span class="gtkdoc opt">);</span>

  <span class="function"><a href="ClutterActor.html#clutter-actor-add-child">clutter_actor_add_child</a></span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="function">create_menu_actor</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">));</span>

  <span class="comment">/* select the first item */</span>
  <span class="function">select_item_at_index</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">);</span>

  <span class="keyword">return</span> scroll<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static</span> gboolean
<span class="function">on_key_press</span> <span class="gtkdoc opt">(</span>ClutterActor <span class="gtkdoc opt">*</span>stage<span class="gtkdoc opt">,</span>
              ClutterEvent <span class="gtkdoc opt">*</span>event<span class="gtkdoc opt">,</span>
              gpointer      unused<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>scroll<span class="gtkdoc opt">;</span>
  guint key_symbol<span class="gtkdoc opt">;</span>

  scroll <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterActor.html#clutter-actor-get-first-child">clutter_actor_get_first_child</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">);</span>

  key_symbol <span class="gtkdoc opt">=</span> <span class="function"><a href="clutter-Events.html#clutter-event-get-key-symbol">clutter_event_get_key_symbol</a></span> <span class="gtkdoc opt">(</span>event<span class="gtkdoc opt">);</span>

  <span class="keyword">if</span> <span class="gtkdoc opt">(</span>key_symbol <span class="gtkdoc opt">==</span> CLUTTER_KEY_Up<span class="gtkdoc opt">)</span>
    <span class="function">select_prev_item</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">);</span>
  <span class="keyword">else if</span> <span class="gtkdoc opt">(</span>key_symbol <span class="gtkdoc opt">==</span> CLUTTER_KEY_Down<span class="gtkdoc opt">)</span>
    <span class="function">select_next_item</span> <span class="gtkdoc opt">(</span>scroll<span class="gtkdoc opt">);</span>

  <span class="keyword">return</span> CLUTTER_EVENT_STOP<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">int</span>
<span class="function">main</span> <span class="gtkdoc opt">(</span><span class="gtkdoc kwb">int</span> argc<span class="gtkdoc opt">,</span> <span class="gtkdoc kwb">char</span> <span class="gtkdoc opt">*</span>argv<span class="gtkdoc opt">[])</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>stage<span class="gtkdoc opt">;</span>

  <span class="keyword">if</span> <span class="gtkdoc opt">(</span><span class="function"><a href="clutter-General.html#clutter-init">clutter_init</a></span> <span class="gtkdoc opt">(&amp;</span>argc<span class="gtkdoc opt">, &amp;</span>argv<span class="gtkdoc opt">) !=</span> CLUTTER_INIT_SUCCESS<span class="gtkdoc opt">)</span>
    <span class="keyword">return</span> EXIT_FAILURE<span class="gtkdoc opt">;</span>

  <span class="comment">/* create a new stage */</span>
  stage <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterStage.html#clutter-stage-new">clutter_stage_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterStage.html#clutter-stage-set-title">clutter_stage_set_title</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_STAGE</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">),</span> <span class="string">&quot;Scroll Actor&quot;</span><span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterStage.html#clutter-stage-set-user-resizable">clutter_stage_set_user_resizable</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_STAGE</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">),</span> TRUE<span class="gtkdoc opt">);</span>
  <span class="function">g_signal_connect</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> <span class="string">&quot;destroy&quot;</span><span class="gtkdoc opt">,</span> <span class="function">G_CALLBACK</span> <span class="gtkdoc opt">(</span>clutter_main_quit<span class="gtkdoc opt">),</span> NULL<span class="gtkdoc opt">);</span>
  <span class="function">g_signal_connect</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> <span class="string">&quot;key-press-event&quot;</span><span class="gtkdoc opt">,</span> <span class="function">G_CALLBACK</span> <span class="gtkdoc opt">(</span>on_key_press<span class="gtkdoc opt">),</span> NULL<span class="gtkdoc opt">);</span>

  <span class="function"><a href="ClutterActor.html#clutter-actor-add-child">clutter_actor_add_child</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> <span class="function">create_scroll_actor</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">));</span>

  <span class="function"><a href="ClutterActor.html#clutter-actor-show">clutter_actor_show</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">);</span>

  <span class="function"><a href="clutter-General.html#clutter-main">clutter_main</a></span> <span class="gtkdoc opt">();</span>

  <span class="keyword">return</span> EXIT_SUCCESS<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
</p>
<p>
<a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> is available since Clutter 1.12.
</p>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="ClutterScrollActor-struct"></a><h3>ClutterScrollActor</h3>
<pre class="programlisting">typedef struct _ClutterScrollActor ClutterScrollActor;</pre>
<p>
The <span class="structname">ClutterScrollActor</span> structure contains only
private data, and should be accessed using the provided API.
</p>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterScrollActorClass"></a><h3>struct ClutterScrollActorClass</h3>
<pre class="programlisting">struct ClutterScrollActorClass {
};
</pre>
<p>
The <span class="structname">ClutterScrollActor</span> structure contains only
private data.
</p>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-scroll-actor-new"></a><h3>clutter_scroll_actor_new ()</h3>
<pre class="programlisting"><a class="link" href="ClutterActor.html" title="ClutterActor"><span class="returnvalue">ClutterActor</span></a> *      clutter_scroll_actor_new            (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Creates a new <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The newly created <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
instance. <span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterScrollMode"></a><h3>enum ClutterScrollMode</h3>
<pre class="programlisting">typedef enum {
 /*&lt; prefix=CLUTTER_SCROLL &gt;*/
  CLUTTER_SCROLL_NONE         = 0,

  CLUTTER_SCROLL_HORIZONTALLY = 1 &lt;&lt; 0,
  CLUTTER_SCROLL_VERTICALLY   = 1 &lt;&lt; 1,

  CLUTTER_SCROLL_BOTH         = CLUTTER_SCROLL_HORIZONTALLY | CLUTTER_SCROLL_VERTICALLY
} ClutterScrollMode;
</pre>
<p>
Scroll modes.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="CLUTTER-SCROLL-NONE:CAPS"></a><span class="term"><code class="literal">CLUTTER_SCROLL_NONE</code></span></p></td>
<td>Ignore scrolling
</td>
</tr>
<tr>
<td><p><a name="CLUTTER-SCROLL-HORIZONTALLY:CAPS"></a><span class="term"><code class="literal">CLUTTER_SCROLL_HORIZONTALLY</code></span></p></td>
<td>Scroll only horizontally
</td>
</tr>
<tr>
<td><p><a name="CLUTTER-SCROLL-VERTICALLY:CAPS"></a><span class="term"><code class="literal">CLUTTER_SCROLL_VERTICALLY</code></span></p></td>
<td>Scroll only vertically
</td>
</tr>
<tr>
<td><p><a name="CLUTTER-SCROLL-BOTH:CAPS"></a><span class="term"><code class="literal">CLUTTER_SCROLL_BOTH</code></span></p></td>
<td>Scroll in both directions
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-scroll-actor-set-scroll-mode"></a><h3>clutter_scroll_actor_set_scroll_mode ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_scroll_actor_set_scroll_mode
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code><a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="type">ClutterScrollMode</span></a> mode</code></em>);</pre>
<p>
Sets the <a class="link" href="ClutterScrollActor.html#ClutterScrollActor--scroll-mode" title='The "scroll-mode" property'><span class="type">"scroll-mode"</span></a> property.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>actor</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>mode</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="type">ClutterScrollMode</span></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-scroll-actor-get-scroll-mode"></a><h3>clutter_scroll_actor_get_scroll_mode ()</h3>
<pre class="programlisting"><a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="returnvalue">ClutterScrollMode</span></a>   clutter_scroll_actor_get_scroll_mode
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>);</pre>
<p>
Retrieves the <a class="link" href="ClutterScrollActor.html#ClutterScrollActor--scroll-mode" title='The "scroll-mode" property'><span class="type">"scroll-mode"</span></a> property
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>actor</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the scrolling mode</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-scroll-actor-scroll-to-point"></a><h3>clutter_scroll_actor_scroll_to_point ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_scroll_actor_scroll_to_point
                                                        (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code>const <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a> *point</code></em>);</pre>
<p>
Scrolls the contents of <em class="parameter"><code>actor</code></em> so that <em class="parameter"><code>point</code></em> is the new origin
of the visible area.
</p>
<p>
The coordinates of <em class="parameter"><code>point</code></em> must be relative to the <em class="parameter"><code>actor</code></em>.
</p>
<p>
This function will use the currently set easing state of the <em class="parameter"><code>actor</code></em>
to transition from the current scroll origin to the new one.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>actor</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>point</code></em> :</span></p></td>
<td>a <a class="link" href="clutter-Base-geometric-types.html#ClutterPoint" title="struct ClutterPoint"><span class="type">ClutterPoint</span></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-scroll-actor-scroll-to-rect"></a><h3>clutter_scroll_actor_scroll_to_rect ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_scroll_actor_scroll_to_rect (<em class="parameter"><code><a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a> *actor</code></em>,
                                                         <em class="parameter"><code>const <a class="link" href="clutter-Base-geometric-types.html#ClutterRect" title="struct ClutterRect"><span class="type">ClutterRect</span></a> *rect</code></em>);</pre>
<p>
Scrolls <em class="parameter"><code>actor</code></em> so that <em class="parameter"><code>rect</code></em> is in the visible portion.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>actor</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterScrollActor.html" title="ClutterScrollActor"><span class="type">ClutterScrollActor</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>rect</code></em> :</span></p></td>
<td>a <a class="link" href="clutter-Base-geometric-types.html#ClutterRect" title="struct ClutterRect"><span class="type">ClutterRect</span></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.12</p>
</div>
</div>
<div class="refsect1">
<a name="ClutterScrollActor.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="ClutterScrollActor--scroll-mode"></a><h3>The <code class="literal">"scroll-mode"</code> property</h3>
<pre class="programlisting">  "scroll-mode"              <a class="link" href="ClutterScrollActor.html#ClutterScrollMode" title="enum ClutterScrollMode"><span class="type">ClutterScrollMode</span></a>     : Read / Write</pre>
<p>
The scrollin direction.
</p>
<p>Default value: CLUTTER_SCROLL_HORIZONTALLY|CLUTTER_SCROLL_VERTICALLY</p>
<p class="since">Since 1.12</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>