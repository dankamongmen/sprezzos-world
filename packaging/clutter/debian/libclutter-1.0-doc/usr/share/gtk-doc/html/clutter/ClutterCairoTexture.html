<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ClutterCairoTexture</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Clutter Reference Manual">
<link rel="up" href="deprecated.html" title="Part IX. Deprecated Classes">
<link rel="prev" href="ClutterBox.html" title="ClutterBox">
<link rel="next" href="ClutterGroup.html" title="ClutterGroup">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ClutterBox.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="deprecated.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Clutter Reference Manual</th>
<td><a accesskey="n" href="ClutterGroup.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#ClutterCairoTexture.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#ClutterCairoTexture.description" class="shortcut">Description</a>
                   | 
                  <a href="#ClutterCairoTexture.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#ClutterCairoTexture.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
                   | 
                  <a href="#ClutterCairoTexture.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#ClutterCairoTexture.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry">
<a name="ClutterCairoTexture"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ClutterCairoTexture.top_of_page"></a>ClutterCairoTexture</span></h2>
<p>ClutterCairoTexture — Texture with Cairo integration</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="ClutterCairoTexture.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-struct" title="struct ClutterCairoTexture">ClutterCairoTexture</a>;
struct              <a class="link" href="ClutterCairoTexture.html#ClutterCairoTextureClass" title="struct ClutterCairoTextureClass">ClutterCairoTextureClass</a>;
<a class="link" href="ClutterActor.html" title="ClutterActor"><span class="returnvalue">ClutterActor</span></a> *      <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-new" title="clutter_cairo_texture_new ()">clutter_cairo_texture_new</a>           (<em class="parameter"><code><span class="type">guint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> height</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-set-surface-size" title="clutter_cairo_texture_set_surface_size ()">clutter_cairo_texture_set_surface_size</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> height</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-get-surface-size" title="clutter_cairo_texture_get_surface_size ()">clutter_cairo_texture_get_surface_size</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *height</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-set-auto-resize" title="clutter_cairo_texture_set_auto_resize ()">clutter_cairo_texture_set_auto_resize</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> value</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-get-auto-resize" title="clutter_cairo_texture_get_auto_resize ()">clutter_cairo_texture_get_auto_resize</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);

<span class="returnvalue">cairo_t</span> *           <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-create" title="clutter_cairo_texture_create ()">clutter_cairo_texture_create</a>        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);
<span class="returnvalue">cairo_t</span> *           <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-create-region" title="clutter_cairo_texture_create_region ()">clutter_cairo_texture_create_region</a> (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> x_offset</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> y_offset</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> height</code></em>);

<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate-rectangle" title="clutter_cairo_texture_invalidate_rectangle ()">clutter_cairo_texture_invalidate_rectangle</a>
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">cairo_rectangle_int_t</span> *rect</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate" title="clutter_cairo_texture_invalidate ()">clutter_cairo_texture_invalidate</a>    (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-clear" title="clutter_cairo_texture_clear ()">clutter_cairo_texture_clear</a>         (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----GInitiallyUnowned
         +----<a class="link" href="ClutterActor.html" title="ClutterActor">ClutterActor</a>
               +----<a class="link" href="ClutterTexture.html" title="ClutterTexture">ClutterTexture</a>
                     +----ClutterCairoTexture
</pre>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
ClutterCairoTexture implements
 <a class="link" href="ClutterContainer.html" title="ClutterContainer">ClutterContainer</a>,  <a class="link" href="ClutterScriptable.html" title="ClutterScriptable">ClutterScriptable</a>,  <a class="link" href="ClutterAnimatable.html" title="ClutterAnimatable">ClutterAnimatable</a> and  AtkImplementorIface.</p>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture--auto-resize" title='The "auto-resize" property'>auto-resize</a>"              <span class="type">gboolean</span>              : Read / Write
  "<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture--surface-height" title='The "surface-height" property'>surface-height</a>"           <span class="type">guint</span>                 : Read / Write
  "<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture--surface-width" title='The "surface-width" property'>surface-width</a>"            <span class="type">guint</span>                 : Read / Write
</pre>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-create-surface" title='The "create-surface" signal'>create-surface</a>"                                 : <code class="literal">No Recursion</code>
  "<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'>draw</a>"                                           : <code class="literal">No Recursion</code>
</pre>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.description"></a><h2>Description</h2>
<p>
<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> is a <a class="link" href="ClutterTexture.html" title="ClutterTexture"><span class="type">ClutterTexture</span></a> that displays the contents
of a Cairo context. The <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> actor will create a
Cairo image surface which will then be uploaded to a GL texture when
needed.
</p>
<p>
</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>Since <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> uses a Cairo image surface
internally all the drawing operations will be performed in
software and not using hardware acceleration. This can lead to
performance degradation if the contents of the texture change
frequently.</p>
</div>
<p>
</p>
<p>
In order to use a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> you should connect to the
<a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal; the signal is emitted each time
the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> has been told to invalidate its contents,
by using <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate-rectangle" title="clutter_cairo_texture_invalidate_rectangle ()"><code class="function">clutter_cairo_texture_invalidate_rectangle()</code></a> or its
sister function, <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate" title="clutter_cairo_texture_invalidate ()"><code class="function">clutter_cairo_texture_invalidate()</code></a>.
</p>
<p>
Each callback to the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal will receive
a <span class="type">cairo_t</span> context which can be used for drawing; the Cairo context
is owned by the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> and should not be destroyed
explicitly.
</p>
<p>
</p>
<div class="example">
<a name="cairo-texture-example"></a><p class="title"><b>Example 24. A simple ClutterCairoTexture canvas</b></p>
<div class="example-contents">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="gtkdoc ppc">#include &lt;stdlib.h&gt;</span>
<span class="gtkdoc ppc">#include &lt;math.h&gt;</span>
<span class="gtkdoc ppc">#include &lt;cairo.h&gt;</span>
<span class="gtkdoc ppc">#include &lt;clutter/clutter.h&gt;</span>

<span class="gtkdoc kwb">static</span> gboolean
<span class="function">draw_clock</span> <span class="gtkdoc opt">(</span>ClutterCairoTexture <span class="gtkdoc opt">*</span>canvas<span class="gtkdoc opt">,</span>
            cairo_t             <span class="gtkdoc opt">*</span>cr<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  guint width<span class="gtkdoc opt">,</span> height<span class="gtkdoc opt">;</span>
  GDateTime <span class="gtkdoc opt">*</span>now<span class="gtkdoc opt">;</span>
  <span class="gtkdoc kwb">float</span> hours<span class="gtkdoc opt">,</span> minutes<span class="gtkdoc opt">,</span> seconds<span class="gtkdoc opt">;</span>

  <span class="comment">/* get the current time and compute the angles */</span>
  now <span class="gtkdoc opt">=</span> <span class="function">g_date_time_new_now_local</span> <span class="gtkdoc opt">();</span>
  seconds <span class="gtkdoc opt">=</span> <span class="function">g_date_time_get_second</span> <span class="gtkdoc opt">(</span>now<span class="gtkdoc opt">) *</span> G_PI <span class="gtkdoc opt">/</span> <span class="number">30</span><span class="gtkdoc opt">;</span>
  minutes <span class="gtkdoc opt">=</span> <span class="function">g_date_time_get_minute</span> <span class="gtkdoc opt">(</span>now<span class="gtkdoc opt">) *</span> G_PI <span class="gtkdoc opt">/</span> <span class="number">30</span><span class="gtkdoc opt">;</span>
  hours <span class="gtkdoc opt">=</span> <span class="function">g_date_time_get_hour</span> <span class="gtkdoc opt">(</span>now<span class="gtkdoc opt">) *</span> G_PI <span class="gtkdoc opt">/</span> <span class="number">6</span><span class="gtkdoc opt">;</span>

  <span class="comment">/* clear the contents of the canvas, to avoid painting</span>
<span class="comment">   * over the previous frame</span>
<span class="comment">   */</span>
  <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-clear">clutter_cairo_texture_clear</a></span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">);</span>

  <span class="comment">/* scale the modelview to the size of the surface */</span>
  <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-get-surface-size">clutter_cairo_texture_get_surface_size</a></span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">, &amp;</span>width<span class="gtkdoc opt">, &amp;</span>height<span class="gtkdoc opt">);</span>
  <span class="function">cairo_scale</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> width<span class="gtkdoc opt">,</span> height<span class="gtkdoc opt">);</span>

  <span class="function">cairo_set_line_cap</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> CAIRO_LINE_CAP_ROUND<span class="gtkdoc opt">);</span>
  <span class="function">cairo_set_line_width</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0.1</span><span class="gtkdoc opt">);</span>

  <span class="comment">/* the black rail that holds the seconds indicator */</span>
  <span class="function">clutter_cairo_set_source_color</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> CLUTTER_COLOR_Black<span class="gtkdoc opt">);</span>
  <span class="function">cairo_translate</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0.5</span><span class="gtkdoc opt">,</span> <span class="number">0.5</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_arc</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> <span class="number">0.4</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> G_PI <span class="gtkdoc opt">*</span> <span class="number">2</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_stroke</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>

  <span class="comment">/* the seconds indicator */</span>
  <span class="function">clutter_cairo_set_source_color</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> CLUTTER_COLOR_White<span class="gtkdoc opt">);</span>
  <span class="function">cairo_move_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_arc</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="function">sinf</span> <span class="gtkdoc opt">(</span>seconds<span class="gtkdoc opt">) *</span> <span class="number">0.4</span><span class="gtkdoc opt">, -</span> <span class="function">cosf</span> <span class="gtkdoc opt">(</span>seconds<span class="gtkdoc opt">) *</span> <span class="number">0.4</span><span class="gtkdoc opt">,</span> <span class="number">0.05</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> G_PI <span class="gtkdoc opt">*</span> <span class="number">2</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_fill</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>

  <span class="comment">/* the minutes hand */</span>
  <span class="function">clutter_cairo_set_source_color</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> CLUTTER_COLOR_DarkChameleon<span class="gtkdoc opt">);</span>
  <span class="function">cairo_move_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_line_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="function">sinf</span> <span class="gtkdoc opt">(</span>minutes<span class="gtkdoc opt">) *</span> <span class="number">0.4</span><span class="gtkdoc opt">, -</span><span class="function">cosf</span> <span class="gtkdoc opt">(</span>minutes<span class="gtkdoc opt">) *</span> <span class="number">0.4</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_stroke</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>

  <span class="comment">/* the hours hand */</span>
  <span class="function">cairo_move_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_line_to</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">,</span> <span class="function">sinf</span> <span class="gtkdoc opt">(</span>hours<span class="gtkdoc opt">) *</span> <span class="number">0.2</span><span class="gtkdoc opt">, -</span><span class="function">cosf</span> <span class="gtkdoc opt">(</span>hours<span class="gtkdoc opt">) *</span> <span class="number">0.2</span><span class="gtkdoc opt">);</span>
  <span class="function">cairo_stroke</span> <span class="gtkdoc opt">(</span>cr<span class="gtkdoc opt">);</span>

  <span class="function">g_date_time_unref</span> <span class="gtkdoc opt">(</span>now<span class="gtkdoc opt">);</span>

  <span class="comment">/* we're done drawing */</span>
  <span class="keyword">return</span> TRUE<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

<span class="gtkdoc kwb">static</span> gboolean
<span class="function">invalidate_clock</span> <span class="gtkdoc opt">(</span>gpointer data_<span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  <span class="comment">/* invalidate the contents of the canvas */</span>
  <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate">clutter_cairo_texture_invalidate</a></span> <span class="gtkdoc opt">(</span>data_<span class="gtkdoc opt">);</span>

  <span class="comment">/* keep the timeout source */</span>
  <span class="keyword">return</span> TRUE<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

G_MODULE_EXPORT <span class="gtkdoc kwb">int</span>
<span class="function">test_cairo_clock_main</span> <span class="gtkdoc opt">(</span><span class="gtkdoc kwb">int</span> argc<span class="gtkdoc opt">,</span> <span class="gtkdoc kwb">char</span> <span class="gtkdoc opt">*</span>argv<span class="gtkdoc opt">[])</span>
<span class="gtkdoc opt">{</span>
  ClutterActor <span class="gtkdoc opt">*</span>stage<span class="gtkdoc opt">, *</span>canvas<span class="gtkdoc opt">;</span>

  <span class="comment">/* initialize Clutter */</span>
  <span class="keyword">if</span> <span class="gtkdoc opt">(</span><span class="function"><a href="clutter-General.html#clutter-init">clutter_init</a></span> <span class="gtkdoc opt">(&amp;</span>argc<span class="gtkdoc opt">, &amp;</span>argv<span class="gtkdoc opt">) !=</span> CLUTTER_INIT_SUCCESS<span class="gtkdoc opt">)</span>
    <span class="keyword">return</span> EXIT_FAILURE<span class="gtkdoc opt">;</span>

  <span class="comment">/* create a resizable stage */</span>
  stage <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterStage.html#clutter-stage-new">clutter_stage_new</a></span> <span class="gtkdoc opt">();</span>
  <span class="function"><a href="ClutterStage.html#clutter-stage-set-title">clutter_stage_set_title</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_STAGE</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">),</span> <span class="string">&quot;2D Clock&quot;</span><span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterStage.html#clutter-stage-set-user-resizable">clutter_stage_set_user_resizable</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_STAGE</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">),</span> TRUE<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-background-color">clutter_actor_set_background_color</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> CLUTTER_COLOR_LightSkyBlue<span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-set-size">clutter_actor_set_size</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> <span class="number">300</span><span class="gtkdoc opt">,</span> <span class="number">300</span><span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-show">clutter_actor_show</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">);</span>

  <span class="comment">/* our 2D canvas, courtesy of Cairo */</span>
  canvas <span class="gtkdoc opt">=</span> <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-new">clutter_cairo_texture_new</a></span> <span class="gtkdoc opt">(</span><span class="number">300</span><span class="gtkdoc opt">,</span> <span class="number">300</span><span class="gtkdoc opt">);</span>
  <span class="function"><a href="ClutterContainer.html#clutter-container-add-actor">clutter_container_add_actor</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_CONTAINER</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">),</span> canvas<span class="gtkdoc opt">);</span>

  <span class="comment">/* bind the size of the canvas to that of the stage */</span>
  <span class="function"><a href="ClutterActor.html#clutter-actor-add-constraint">clutter_actor_add_constraint</a></span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">,</span> <span class="function"><a href="ClutterBindConstraint.html#clutter-bind-constraint-new">clutter_bind_constraint_new</a></span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> CLUTTER_BIND_SIZE<span class="gtkdoc opt">,</span> <span class="number">0</span><span class="gtkdoc opt">));</span>

  <span class="comment">/* make sure to match allocation to canvas size */</span>
  <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-set-auto-resize">clutter_cairo_texture_set_auto_resize</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_CAIRO_TEXTURE</span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">),</span> TRUE<span class="gtkdoc opt">);</span>

  <span class="comment">/* quit on destroy */</span>
  <span class="function">g_signal_connect</span> <span class="gtkdoc opt">(</span>stage<span class="gtkdoc opt">,</span> <span class="string">&quot;destroy&quot;</span><span class="gtkdoc opt">,</span> <span class="function">G_CALLBACK</span> <span class="gtkdoc opt">(</span>clutter_main_quit<span class="gtkdoc opt">),</span> NULL<span class="gtkdoc opt">);</span>

  <span class="comment">/* connect our drawing code */</span>
  <span class="function">g_signal_connect</span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">,</span> <span class="string">&quot;draw&quot;</span><span class="gtkdoc opt">,</span> <span class="function">G_CALLBACK</span> <span class="gtkdoc opt">(</span>draw_clock<span class="gtkdoc opt">),</span> NULL<span class="gtkdoc opt">);</span>

  <span class="comment">/* invalidate the canvas, so that we can draw before the main loop starts */</span>
  <span class="function"><a href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate">clutter_cairo_texture_invalidate</a></span> <span class="gtkdoc opt">(</span><span class="function">CLUTTER_CAIRO_TEXTURE</span> <span class="gtkdoc opt">(</span>canvas<span class="gtkdoc opt">));</span>

  <span class="comment">/* set up a timer that invalidates the canvas every second */</span>
  <span class="function"><a href="clutter-General.html#clutter-threads-add-timeout">clutter_threads_add_timeout</a></span> <span class="gtkdoc opt">(</span><span class="number">1000</span><span class="gtkdoc opt">,</span> invalidate_clock<span class="gtkdoc opt">,</span> canvas<span class="gtkdoc opt">);</span>

  <span class="function"><a href="clutter-General.html#clutter-main">clutter_main</a></span> <span class="gtkdoc opt">();</span>

  <span class="keyword">return</span> EXIT_SUCCESS<span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span>

G_MODULE_EXPORT <span class="gtkdoc kwb">const char</span> <span class="gtkdoc opt">*</span>
<span class="function">test_cairo_clock_describe</span> <span class="gtkdoc opt">(</span><span class="gtkdoc kwb">void</span><span class="gtkdoc opt">)</span>
<span class="gtkdoc opt">{</span>
  <span class="keyword">return</span> <span class="string">&quot;Simple 2D canvas using a Cairo texture actor&quot;</span><span class="gtkdoc opt">;</span>
<span class="gtkdoc opt">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<p><br class="example-break">
</p>
<p>
<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> is available since Clutter 1.0.
</p>
<p>
<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> is deprecated since Clutter 1.12.
</p>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="ClutterCairoTexture-struct"></a><h3>struct ClutterCairoTexture</h3>
<pre class="programlisting">struct ClutterCairoTexture;</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
The <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> struct contains only private data.
</p>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterCairoTextureClass"></a><h3>struct ClutterCairoTextureClass</h3>
<pre class="programlisting">struct ClutterCairoTextureClass {
  cairo_surface_t *(* create_surface) (ClutterCairoTexture *texture,
                                       guint                width,
                                       guint                height);

  gboolean         (* draw)           (ClutterCairoTexture *texture,
                                       cairo_t             *cr);
};
</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTextureClass</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
The <a class="link" href="ClutterCairoTexture.html#ClutterCairoTextureClass" title="struct ClutterCairoTextureClass"><span class="type">ClutterCairoTextureClass</span></a> struct contains only private data.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="ClutterCairoTextureClass.create-surface"></a>create_surface</code></em> ()</span></p></td>
<td>class handler for the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-create-surface" title='The "create-surface" signal'><span class="type">"create-surface"</span></a>
signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="ClutterCairoTextureClass.draw"></a>draw</code></em> ()</span></p></td>
<td>class handler for the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-new"></a><h3>clutter_cairo_texture_new ()</h3>
<pre class="programlisting"><a class="link" href="ClutterActor.html" title="ClutterActor"><span class="returnvalue">ClutterActor</span></a> *      clutter_cairo_texture_new           (<em class="parameter"><code><span class="type">guint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> height</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_new</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Creates a new <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> actor, with a surface of <em class="parameter"><code>width</code></em> by
<em class="parameter"><code>height</code></em> pixels.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>the width of the surface</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>the height of the surface</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the newly created <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> actor</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-set-surface-size"></a><h3>clutter_cairo_texture_set_surface_size ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_set_surface_size
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> height</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_set_surface_size</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Resizes the Cairo surface used by <em class="parameter"><code>self</code></em> to <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
</p>
<p>
This function will not invalidate the contents of the Cairo
texture: you will have to explicitly call either
<a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate-rectangle" title="clutter_cairo_texture_invalidate_rectangle ()"><code class="function">clutter_cairo_texture_invalidate_rectangle()</code></a> or
<a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate" title="clutter_cairo_texture_invalidate ()"><code class="function">clutter_cairo_texture_invalidate()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>the new width of the surface</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>the new height of the surface</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-get-surface-size"></a><h3>clutter_cairo_texture_get_surface_size ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_get_surface_size
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *width</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *height</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_get_surface_size</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Retrieves the surface width and height for <em class="parameter"><code>self</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>return location for the surface width, or <code class="literal">NULL</code>. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>return location for the surface height, or <code class="literal">NULL</code>. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-set-auto-resize"></a><h3>clutter_cairo_texture_set_auto_resize ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_set_auto_resize
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> value</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_set_auto_resize</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Sets whether the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> should ensure that the
backing Cairo surface used matches the allocation assigned to
the actor. If the allocation changes, the contents of the
<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> will also be invalidated automatically.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> should bind the surface
size to the allocation</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-get-auto-resize"></a><h3>clutter_cairo_texture_get_auto_resize ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            clutter_cairo_texture_get_auto_resize
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_get_auto_resize</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Retrieves the value set using <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-set-auto-resize" title="clutter_cairo_texture_set_auto_resize ()"><code class="function">clutter_cairo_texture_set_auto_resize()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> should track the
allocation, and <code class="literal">FALSE</code> otherwise</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-create"></a><h3>clutter_cairo_texture_create ()</h3>
<pre class="programlisting"><span class="returnvalue">cairo_t</span> *           clutter_cairo_texture_create        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_create</code> has been deprecated since version 1.8 and should not be used in newly-written code. Use the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal and
  the <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate" title="clutter_cairo_texture_invalidate ()"><code class="function">clutter_cairo_texture_invalidate()</code></a> function to obtain a
  Cairo context for 2D drawing.</p>
</div>
<p>
Creates a new Cairo context for the <em class="parameter"><code>cairo</code></em> texture. It is
similar to using <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-create-region" title="clutter_cairo_texture_create_region ()"><code class="function">clutter_cairo_texture_create_region()</code></a> with <em class="parameter"><code>x_offset</code></em>
and <em class="parameter"><code>y_offset</code></em> of 0, <em class="parameter"><code>width</code></em> equal to the <em class="parameter"><code>cairo</code></em> texture surface width
and <em class="parameter"><code>height</code></em> equal to the <em class="parameter"><code>cairo</code></em> texture surface height.
</p>
<p>
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p>Do not call this function within the paint virtual
function or from a callback to the <a class="link" href="ClutterActor.html#ClutterActor-paint" title='The "paint" signal'><span class="type">"paint"</span></a>
signal.</p>
</div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created Cairo context. Use <code class="function">cairo_destroy()</code>
to upload the contents of the context when done drawing</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-create-region"></a><h3>clutter_cairo_texture_create_region ()</h3>
<pre class="programlisting"><span class="returnvalue">cairo_t</span> *           clutter_cairo_texture_create_region (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> x_offset</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> y_offset</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> width</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> height</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_create_region</code> has been deprecated since version 1.8 and should not be used in newly-written code. Use the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal and
  <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate-rectangle" title="clutter_cairo_texture_invalidate_rectangle ()"><code class="function">clutter_cairo_texture_invalidate_rectangle()</code></a> to obtain a
  clipped Cairo context for 2D drawing.</p>
</div>
<p>
Creates a new Cairo context that will updat the region defined
by <em class="parameter"><code>x_offset</code></em>, <em class="parameter"><code>y_offset</code></em>, <em class="parameter"><code>width</code></em> and <em class="parameter"><code>height</code></em>.
</p>
<p>
</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p>Do not call this function within the paint virtual
function or from a callback to the <a class="link" href="ClutterActor.html#ClutterActor-paint" title='The "paint" signal'><span class="type">"paint"</span></a>
signal.</p>
</div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x_offset</code></em> :</span></p></td>
<td>offset of the region on the X axis</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>y_offset</code></em> :</span></p></td>
<td>offset of the region on the Y axis</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>width of the region, or -1 for the full surface width</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>height of the region, or -1 for the full surface height</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created Cairo context. Use <code class="function">cairo_destroy()</code>
to upload the contents of the context when done drawing</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-invalidate-rectangle"></a><h3>clutter_cairo_texture_invalidate_rectangle ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_invalidate_rectangle
                                                        (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>,
                                                         <em class="parameter"><code><span class="type">cairo_rectangle_int_t</span> *rect</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_invalidate_rectangle</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Invalidates a rectangular region of a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>.
</p>
<p>
The invalidation will cause the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal
to be emitted.
</p>
<p>
See also: <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate" title="clutter_cairo_texture_invalidate ()"><code class="function">clutter_cairo_texture_invalidate()</code></a>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>rect</code></em> :</span></p></td>
<td>a rectangle with the area to invalida,
or <code class="literal">NULL</code> to perform an unbounded invalidation. <span class="annotation">[<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-invalidate"></a><h3>clutter_cairo_texture_invalidate ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_invalidate    (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_invalidate</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Invalidates the whole surface of a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>.
</p>
<p>
This function will cause the <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a> signal
to be emitted.
</p>
<p>
See also: <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-invalidate-rectangle" title="clutter_cairo_texture_invalidate_rectangle ()"><code class="function">clutter_cairo_texture_invalidate_rectangle()</code></a>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="clutter-cairo-texture-clear"></a><h3>clutter_cairo_texture_clear ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                clutter_cairo_texture_clear         (<em class="parameter"><code><a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *self</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">clutter_cairo_texture_clear</code> has been deprecated since version 1.12 and should not be used in newly-written code. Use <a class="link" href="ClutterCanvas.html" title="ClutterCanvas"><span class="type">ClutterCanvas</span></a> instead</p>
</div>
<p>
Clears <em class="parameter"><code>self</code></em>'s internal drawing surface, so that the next upload
will replace the previous contents of the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
rather than adding to it.
</p>
<p>
Calling this function from within a <a class="link" href="ClutterCairoTexture.html#ClutterCairoTexture-draw" title='The "draw" signal'><span class="type">"draw"</span></a>
signal handler will clear the invalidated area.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 1.0</p>
</div>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="ClutterCairoTexture--auto-resize"></a><h3>The <code class="literal">"auto-resize"</code> property</h3>
<pre class="programlisting">  "auto-resize"              <span class="type">gboolean</span>              : Read / Write</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture:auto-resize</code> is deprecated and should not be used in newly-written code. 1.12</p>
</div>
<p>
Controls whether the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> should automatically
resize the Cairo surface whenever the actor's allocation changes.
If :auto-resize is set to <code class="literal">TRUE</code> the surface contents will also
be invalidated automatically.
</p>
<p>Default value: FALSE</p>
<p class="since">Since 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterCairoTexture--surface-height"></a><h3>The <code class="literal">"surface-height"</code> property</h3>
<pre class="programlisting">  "surface-height"           <span class="type">guint</span>                 : Read / Write</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture:surface-height</code> is deprecated and should not be used in newly-written code. 1.12</p>
</div>
<p>
The height of the Cairo surface used by the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
actor, in pixels.
</p>
<p>Default value: 0</p>
<p class="since">Since 1.0</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterCairoTexture--surface-width"></a><h3>The <code class="literal">"surface-width"</code> property</h3>
<pre class="programlisting">  "surface-width"            <span class="type">guint</span>                 : Read / Write</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture:surface-width</code> is deprecated and should not be used in newly-written code. 1.12</p>
</div>
<p>
The width of the Cairo surface used by the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
actor, in pixels.
</p>
<p>Default value: 0</p>
<p class="since">Since 1.0</p>
</div>
</div>
<div class="refsect1">
<a name="ClutterCairoTexture.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="ClutterCairoTexture-create-surface"></a><h3>The <code class="literal">"create-surface"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">CairoSurface</span>*       user_function                      (<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *texture,
                                                        <span class="type">guint</span>                width,
                                                        <span class="type">guint</span>                height,
                                                        <span class="type">gpointer</span>             user_data)      : <code class="literal">No Recursion</code></pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture::create-surface</code> is deprecated and should not be used in newly-written code. 1.12</p>
</div>
<p>
The ::create-surface signal is emitted when a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a>
news its surface (re)created, which happens either when the Cairo
context is created with <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-create" title="clutter_cairo_texture_create ()"><code class="function">clutter_cairo_texture_create()</code></a> or
<a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-create-region" title="clutter_cairo_texture_create_region ()"><code class="function">clutter_cairo_texture_create_region()</code></a>, or when the surface is resized
through <a class="link" href="ClutterCairoTexture.html#clutter-cairo-texture-set-surface-size" title="clutter_cairo_texture_set_surface_size ()"><code class="function">clutter_cairo_texture_set_surface_size()</code></a>.
</p>
<p>
The first signal handler that returns a non-<code class="literal">NULL</code>, valid surface will
stop any further signal emission, and the returned surface will be
the one used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>texture</code></em> :</span></p></td>
<td>the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> that emitted the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>width</code></em> :</span></p></td>
<td>the width of the surface to create</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>height</code></em> :</span></p></td>
<td>the height of the surface to create</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the newly created <span class="type">cairo_surface_t</span> for the texture</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.6</p>
</div>
<hr>
<div class="refsect2">
<a name="ClutterCairoTexture-draw"></a><h3>The <code class="literal">"draw"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            user_function                      (<a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> *texture,
                                                        <span class="type">CairoContext</span>        *cr,
                                                        <span class="type">gpointer</span>             user_data)      : <code class="literal">No Recursion</code></pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">ClutterCairoTexture::draw</code> is deprecated and should not be used in newly-written code. 1.12</p>
</div>
<p>
The ::draw signal is emitted each time a <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> has
been invalidated.
</p>
<p>
The passed Cairo context passed will be clipped to the invalidated
area.
</p>
<p>
It is safe to connect multiple callbacks to this signals; the state
of the Cairo context passed to each callback is automatically saved
and restored, so it's not necessary to call <code class="function">cairo_save()</code> and
<code class="function">cairo_restore()</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>texture</code></em> :</span></p></td>
<td>the <a class="link" href="ClutterCairoTexture.html" title="ClutterCairoTexture"><span class="type">ClutterCairoTexture</span></a> that emitted the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cr</code></em> :</span></p></td>
<td>the Cairo context to use to draw</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the signal emission should stop, and <code class="literal">FALSE</code>
to continue</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 1.8</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>